(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"Bm/3":function(t,i,n){"use strict";n.r(i),n.d(i,"UnidadesModule",(function(){return H}));var a=n("ofXK"),e=n("tyNb"),o=n("mrSG"),d=n("M9IT"),c=n("+0xr"),r=n("Dh3D"),l=n("3Pt+"),s=n("0EQZ"),u=n("fXoL"),f=n("0IaG"),b=n("d/co"),m=n("rDax"),p=n("qFsG"),h=n("bTqV"),_=n("NFeN");function C(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",21),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idUnidadFilter)}}function k(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.id_unidad," ")}}function S(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",24),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idEntidadFilter)}}function w(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.fk_entidad,"")}}function g(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",25),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idCicloFilter)}}function v(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.fk_ciclo,"")}}function B(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",26),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.unidadFilter)}}function O(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.unidad,"")}}function N(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",27),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.plazasFilter)}}function R(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.plazas,"")}}function P(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",28),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idUnidadDualFilter)}}function F(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.fk_unidad_dual,"")}}function z(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",29),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idMotivoNodualFilter)}}function D(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.fk_motivo_nodual,"")}}function M(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",30),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idZonaFilter)}}function j(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.fk_zona,"")}}function y(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",31),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idProvinciaFilter)}}function V(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.fk_provincia,"")}}function E(t,i){if(1&t&&(u.Sb(0,"th",20),u.Nb(1,"input",32),u.Nb(2,"span",22),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idTipoEntidadFilter)}}function L(t,i){if(1&t&&(u.Sb(0,"td",23),u.Cc(1),u.Rb()),2&t){const t=i.$implicit;u.Bb(1),u.Ec(" ",t.fk_tipo_entidad,"")}}function U(t,i){if(1&t){const t=u.Tb();u.Sb(0,"th",20),u.Sb(1,"button",33),u.Zb("click",(function(){return u.tc(t),u.dc().addUnidad()})),u.Sb(2,"mat-icon"),u.Cc(3," add_circle "),u.Rb(),u.Rb(),u.Rb()}}function x(t,i){if(1&t){const t=u.Tb();u.Sb(0,"td",23),u.Sb(1,"button",33),u.Zb("click",(function(){u.tc(t);const n=i.$implicit;return u.dc().editUnidad(n)})),u.Sb(2,"mat-icon"),u.Cc(3," mode_edit "),u.Rb(),u.Rb(),u.Sb(4,"button",33),u.Zb("click",(function(){u.tc(t);const n=i.$implicit;return u.dc().deleteUnidad(n)})),u.Sb(5,"mat-icon"),u.Cc(6," delete "),u.Rb(),u.Rb(),u.Rb()}}function J(t,i){1&t&&u.Nb(0,"tr",34)}const $=function(t){return{selected:t}};function I(t,i){if(1&t){const t=u.Tb();u.Sb(0,"tr",35),u.Zb("click",(function(){u.tc(t);const n=i.$implicit;return u.dc().selection.select(n)}))("dblclick",(function(){u.tc(t);const n=i.$implicit;return u.dc().editUnidad(n)})),u.Rb()}if(2&t){const t=i.$implicit,n=u.dc();u.jc("ngClass",u.nc(1,$,n.selection.isSelected(t)))}}const Q=function(){return[5,10,25]},T=[{path:"",component:(()=>{class t{constructor(t,i,n){this.dialog=t,this.unidadesService=i,this.overlay=n,this.dataSource=new c.k,this.idEntidadFilter=new l.e,this.idUnidadFilter=new l.e,this.idCicloFilter=new l.e,this.unidadFilter=new l.e,this.plazasFilter=new l.e,this.idUnidadDualFilter=new l.e,this.idMotivoNodualFilter=new l.e,this.idZonaFilter=new l.e,this.idProvinciaFilter=new l.e,this.idTipoEntidadFilter=new l.e,this.filterValues={id_unidad:"",fk_entidad:"",fk_ciclo:"",unidad:"",plazas:"",fk_unidad_dual:"",fk_motivo_nodual:"",fk_zona:"",fk_provincia:"",fk_tipo_entidad:""}}ngOnInit(){this.getUnidades()}getUnidades(){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.unidadesService.getAllUnidades().toPromise();this.permises=t.permises,t.ok&&(this.unidadesService.unidad=t.data,this.displayedColumns=["fk_entidad","fk_ciclo","unidad","plazas","fk_unidad_dual","fk_motivo_nodual","fk_zona","fk_provincia","fk_tipo_entidad","actions"],this.dataSource.data=this.unidadesService.unidad,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.selection=new s.c(!1,[this.unidad]),this.onChanges())}))}addUnidad(){return Object(o.a)(this,void 0,void 0,(function*(){}))}editUnidad(t){return Object(o.a)(this,void 0,void 0,(function*(){}))}deleteUnidad(t){return Object(o.a)(this,void 0,void 0,(function*(){}))}createFilter(){return(t,i)=>{const n=JSON.parse(i);return-1!==t.id_unidad.toString().indexOf(n.id_unidad)&&-1!==t.fk_entidad.toLowerCase().indexOf(n.fk_entidad.toLowerCase())&&-1!==t.fk_ciclo.toLowerCase().indexOf(n.fk_ciclo.toLowerCase())&&-1!==t.unidad.toLowerCase().indexOf(n.unidad.toLowerCase())&&-1!==t.plazas.toString().indexOf(n.plazas.toLowerCase())&&-1!==t.fk_unidad_dual.toLowerCase().indexOf(n.fk_unidad_dual.toLowerCase())&&-1!==t.fk_motivo_nodual.toLowerCase().indexOf(n.fk_motivo_nodual.toLowerCase())&&-1!==t.fk_zona.toLowerCase().indexOf(n.fk_zona.toLowerCase())&&-1!==t.fk_provincia.toLowerCase().indexOf(n.fk_provincia.toLowerCase())&&-1!==t.fk_tipo_entidad.toLowerCase().indexOf(n.fk_tipo_entidad.toLowerCase())}}onChanges(){this.idUnidadFilter.valueChanges.subscribe(t=>{this.filterValues.id_unidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.idEntidadFilter.valueChanges.subscribe(t=>{this.filterValues.fk_entidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.idCicloFilter.valueChanges.subscribe(t=>{this.filterValues.fk_ciclo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.unidadFilter.valueChanges.subscribe(t=>{this.filterValues.unidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.plazasFilter.valueChanges.subscribe(t=>{this.filterValues.plazas=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.idUnidadDualFilter.valueChanges.subscribe(t=>{this.filterValues.fk_unidad_dual=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.idMotivoNodualFilter.valueChanges.subscribe(t=>{this.filterValues.fk_motivo_nodual=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.idZonaFilter.valueChanges.subscribe(t=>{this.filterValues.fk_zona=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.idProvinciaFilter.valueChanges.subscribe(t=>{this.filterValues.fk_provincia=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.idTipoEntidadFilter.valueChanges.subscribe(t=>{this.filterValues.fk_tipo_entidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}}return t.\u0275fac=function(i){return new(i||t)(u.Mb(f.b),u.Mb(b.a),u.Mb(m.c))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-unidades"]],viewQuery:function(t,i){var n;1&t&&(u.xc(d.a,!0),u.xc(r.a,!0)),2&t&&(u.pc(n=u.ac())&&(i.paginator=n.first),u.pc(n=u.ac())&&(i.sort=n.first))},decls:40,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_unidad"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fk_entidad"],["matColumnDef","fk_ciclo"],["matColumnDef","unidad"],["matColumnDef","plazas"],["matColumnDef","fk_unidad_dual"],["matColumnDef","fk_motivo_nodual"],["matColumnDef","fk_zona"],["matColumnDef","fk_provincia"],["matColumnDef","fk_tipo_entidad"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click","dblclick",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","Id",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Entidad",3,"formControl"],["matInput","","placeholder","Ciclo",3,"formControl"],["matInput","","placeholder","Unidad",3,"formControl"],["matInput","","placeholder","Plazas",3,"formControl"],["matInput","","placeholder","Dual?",3,"formControl"],["matInput","","placeholder","Motivo no Dual",3,"formControl"],["matInput","","placeholder","Zona",3,"formControl"],["matInput","","placeholder","Provincia",3,"formControl"],["matInput","","placeholder","Tipo Entidad",3,"formControl"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row","",3,"ngClass","click","dblclick"]],template:function(t,i){1&t&&(u.Sb(0,"div",0),u.Sb(1,"div",1),u.Sb(2,"table",2),u.Qb(3,3),u.Bc(4,C,3,1,"th",4),u.Bc(5,k,2,1,"td",5),u.Pb(),u.Qb(6,6),u.Bc(7,S,3,1,"th",4),u.Bc(8,w,2,1,"td",5),u.Pb(),u.Qb(9,7),u.Bc(10,g,3,1,"th",4),u.Bc(11,v,2,1,"td",5),u.Pb(),u.Qb(12,8),u.Bc(13,B,3,1,"th",4),u.Bc(14,O,2,1,"td",5),u.Pb(),u.Qb(15,9),u.Bc(16,N,3,1,"th",4),u.Bc(17,R,2,1,"td",5),u.Pb(),u.Qb(18,10),u.Bc(19,P,3,1,"th",4),u.Bc(20,F,2,1,"td",5),u.Pb(),u.Qb(21,11),u.Bc(22,z,3,1,"th",4),u.Bc(23,D,2,1,"td",5),u.Pb(),u.Qb(24,12),u.Bc(25,M,3,1,"th",4),u.Bc(26,j,2,1,"td",5),u.Pb(),u.Qb(27,13),u.Bc(28,y,3,1,"th",4),u.Bc(29,V,2,1,"td",5),u.Pb(),u.Qb(30,14),u.Bc(31,E,3,1,"th",4),u.Bc(32,L,2,1,"td",5),u.Pb(),u.Qb(33,15),u.Bc(34,U,4,0,"th",4),u.Bc(35,x,7,0,"td",5),u.Pb(),u.Bc(36,J,1,0,"tr",16),u.Bc(37,I,1,3,"tr",17),u.Rb(),u.Rb(),u.Nb(38,"mat-paginator",18,19),u.Rb()),2&t&&(u.Bb(2),u.jc("dataSource",i.dataSource),u.Bb(34),u.jc("matHeaderRowDef",i.displayedColumns),u.Bb(1),u.jc("matRowDefColumns",i.displayedColumns),u.Bb(1),u.jc("pageSize",10)("pageSizeOptions",u.mc(5,Q)))},directives:[c.j,r.a,c.c,c.e,c.b,c.g,c.i,d.a,c.d,p.b,l.c,l.o,l.f,r.b,c.a,h.a,_.a,c.f,c.h,a.j],styles:[".mat-column-fk_entidad[_ngcontent-%COMP%]{width:15%!important;padding-right:2em!important;word-wrap:break-word!important}.mat-column-fk_ciclo[_ngcontent-%COMP%]{width:20%!important;padding-right:1em!important;word-wrap:break-word!important}.mat-column-plazas[_ngcontent-%COMP%], .mat-column-unidad[_ngcontent-%COMP%]{width:6%!important;padding-right:4em!important;word-wrap:break-word!important}.mat-column-fk_unidad_dual[_ngcontent-%COMP%]{width:8%!important}.mat-column-fk_motivo_nodual[_ngcontent-%COMP%], .mat-column-fk_unidad_dual[_ngcontent-%COMP%]{padding-right:3em!important;word-wrap:break-word!important}.mat-column-fk_motivo_nodual[_ngcontent-%COMP%]{width:12%!important}.mat-column-fk_provincia[_ngcontent-%COMP%], .mat-column-fk_tipo_entidad[_ngcontent-%COMP%], .mat-column-fk_zona[_ngcontent-%COMP%]{width:9%!important;padding-right:3em!important;word-wrap:break-word!important}.mat-column-actions[_ngcontent-%COMP%]{width:4em!important;padding-right:0!important;word-wrap:break-word!important}.selected[_ngcontent-%COMP%]   .mat-cell.blanco[_ngcontent-%COMP%]{color:#fff!important}.selected[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{background-color:rgba(114,109,254,.6862745098039216)}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(i){return new(i||t)},imports:[[e.f.forChild(T)],e.f]}),t})();var G=n("ah4G");let H=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(i){return new(i||t)},imports:[[a.c,Z,G.a]]}),t})()}}]);