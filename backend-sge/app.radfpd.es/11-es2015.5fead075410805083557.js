(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{JrXS:function(t,e,i){"use strict";i.d(e,"a",(function(){return M}));var n=i("mrSG"),o=i("M9IT"),a=i("+0xr"),r=i("Dh3D"),c=i("3Pt+"),s=i("0IaG"),l=i("Xksa"),d=i("fXoL"),b=i("am6X"),m=i("LDPf"),u=i("dNgK"),h=i("bTqV"),f=i("qFsG"),p=i("NFeN");function g(t,e){if(1&t&&(d.Sb(0,"th",17),d.Nb(1,"input",18),d.Nb(2,"span",19),d.Rb()),2&t){const t=d.dc();d.Bb(1),d.jc("formControl",t.idContactoFilter)}}function C(t,e){if(1&t&&(d.Sb(0,"td",20),d.Cc(1),d.Rb()),2&t){const t=e.$implicit;d.Bb(1),d.Ec(" ",t.id_contacto," ")}}function S(t,e){if(1&t&&(d.Sb(0,"th",17),d.Nb(1,"input",21),d.Nb(2,"span",19),d.Rb()),2&t){const t=d.dc();d.Bb(1),d.jc("formControl",t.nombreCompletoFilter)}}function w(t,e){if(1&t&&(d.Sb(0,"td",20),d.Cc(1),d.Rb()),2&t){const t=e.$implicit;d.Bb(1),d.Ec(" ",t.nombre_completo,"")}}function v(t,e){if(1&t&&(d.Sb(0,"th",17),d.Nb(1,"input",22),d.Nb(2,"span",19),d.Rb()),2&t){const t=d.dc();d.Bb(1),d.jc("formControl",t.cargoFilter)}}function B(t,e){if(1&t&&(d.Sb(0,"td",20),d.Cc(1),d.Rb()),2&t){const t=e.$implicit;d.Bb(1),d.Ec(" ",t.cargo,"")}}function R(t,e){if(1&t&&(d.Sb(0,"th",17),d.Nb(1,"input",23),d.Nb(2,"span",19),d.Rb()),2&t){const t=d.dc();d.Bb(1),d.jc("formControl",t.entidadFilter)}}function N(t,e){if(1&t&&(d.Sb(0,"td",20),d.Cc(1),d.Rb()),2&t){const t=e.$implicit;d.Bb(1),d.Ec(" ",t.entidad,"")}}function O(t,e){1&t&&d.Nb(0,"th",17)}function _(t,e){if(1&t){const t=d.Tb();d.Sb(0,"td",20),d.Sb(1,"button",24),d.Zb("click",(function(){d.tc(t);const i=e.$implicit;return d.dc().addAsistente(i)})),d.Sb(2,"mat-icon"),d.Cc(3," add_circle "),d.Rb(),d.Rb(),d.Rb()}}function k(t,e){1&t&&d.Nb(0,"tr",25)}function P(t,e){1&t&&d.Nb(0,"tr",26)}const y=function(){return[5,10,25]};let M=(()=>{class t{constructor(t,e,i,n,o,r){this.dialog=t,this.contactosService=e,this.asistentesService=i,this.snackBar=n,this.dialogRef=o,this.reunion=r,this.dataSource=new a.k,this.idContactoFilter=new c.e,this.nombreCompletoFilter=new c.e,this.cargoFilter=new c.e,this.entidadFilter=new c.e,this.filterValues={id_contacto:"",nombre_completo:"",cargo:"",entidad:""}}ngOnInit(){this.getContactos()}getContactos(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.contactosService.getContactosDisponibles(this.reunion.id_reunion).toPromise();this.permises=t.permises,t.ok&&(this.contactosService.contacto=t.data,this.displayedColumns=["nombre_completo","cargo","entidad","actions"],this.dataSource.data=this.contactosService.contacto,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addAsistente({id_contacto:t}){return Object(n.a)(this,void 0,void 0,(function*(){const e={id_contacto:t,id_reunion:this.reunion.id_reunion},i=yield this.asistentesService.addAsistente(e).toPromise();i.ok?(this.snackBar.open(i.message,l.a,{duration:5e3}),this.getContactos()):this.snackBar.open(i.message,l.a,{duration:5e3})}))}createFilter(){return(t,e)=>{const i=JSON.parse(e);return-1!==t.id_contacto.toString().indexOf(i.id_contacto)&&-1!==t.nombre_completo.toLowerCase().indexOf(i.nombre_completo.toLowerCase())&&-1!==t.cargo.toLowerCase().indexOf(i.cargo.toLowerCase())&&-1!==t.entidad.toLowerCase().indexOf(i.entidad.toLowerCase())}}onChanges(){this.idContactoFilter.valueChanges.subscribe(t=>{this.filterValues.id_contacto=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.nombreCompletoFilter.valueChanges.subscribe(t=>{this.filterValues.nombre_completo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.cargoFilter.valueChanges.subscribe(t=>{this.filterValues.cargo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.entidadFilter.valueChanges.subscribe(t=>{this.filterValues.entidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(e){return new(e||t)(d.Mb(s.b),d.Mb(b.a),d.Mb(m.a),d.Mb(u.a),d.Mb(s.f),d.Mb(s.a))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-add-asistente"]],viewQuery:function(t,e){var i;1&t&&(d.xc(o.a,!0),d.xc(r.a,!0)),2&t&&(d.pc(i=d.ac())&&(e.paginator=i.first),d.pc(i=d.ac())&&(e.sort=i.first))},decls:28,vars:7,consts:[[1,"example-container"],["role","alert",1,"alert","alert-info"],[1,"example-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id_contacto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre_completo"],["matColumnDef","cargo"],["matColumnDef","entidad"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-dialog-actions",""],["mat-button","","id","onNoClick","tabindex","-1",3,"click"],["mat-header-cell",""],["matInput","","placeholder","Id",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Nombre",3,"formControl"],["matInput","","placeholder","Cargo",3,"formControl"],["matInput","","placeholder","Entidad",3,"formControl"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"p"),d.Cc(3),d.Rb(),d.Rb(),d.Sb(4,"div",2),d.Sb(5,"table",3),d.Qb(6,4),d.Bc(7,g,3,1,"th",5),d.Bc(8,C,2,1,"td",6),d.Pb(),d.Qb(9,7),d.Bc(10,S,3,1,"th",5),d.Bc(11,w,2,1,"td",6),d.Pb(),d.Qb(12,8),d.Bc(13,v,3,1,"th",5),d.Bc(14,B,2,1,"td",6),d.Pb(),d.Qb(15,9),d.Bc(16,R,3,1,"th",5),d.Bc(17,N,2,1,"td",6),d.Pb(),d.Qb(18,10),d.Bc(19,O,1,0,"th",5),d.Bc(20,_,4,0,"td",6),d.Pb(),d.Bc(21,k,1,0,"tr",11),d.Bc(22,P,1,0,"tr",12),d.Rb(),d.Rb(),d.Nb(23,"mat-paginator",13,14),d.Sb(25,"div",15),d.Sb(26,"button",16),d.Zb("click",(function(){return e.onNoClick()})),d.Cc(27,"Cerrar"),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.Bb(3),d.Ec("Elija un asistente para a\xf1adir a la reuni\xf3n: ",e.reunion.reunion,""),d.Bb(2),d.jc("dataSource",e.dataSource),d.Bb(16),d.jc("matHeaderRowDef",e.displayedColumns),d.Bb(1),d.jc("matRowDefColumns",e.displayedColumns),d.Bb(1),d.jc("pageSize",10)("pageSizeOptions",d.mc(6,y)))},directives:[a.j,r.a,a.c,a.e,a.b,a.g,a.i,o.a,s.c,h.a,a.d,f.b,c.c,c.o,c.f,r.b,a.a,p.a,a.f,a.h],styles:[".container[_ngcontent-%COMP%]{margin:0 auto;min-width:30em;text-align:center;padding-top:10px}  .mat-column-nombre_completo{width:16em!important;padding-right:2em!important;word-wrap:break-word!important}  .mat-column-cargo{width:14em!important;padding-right:2em!important;word-wrap:break-word!important}  .mat-column-entidad{width:16em!important;padding-right:0!important;word-wrap:break-word!important}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}.radioButton[_ngcontent-%COMP%]{text-align:left;margin-bottom:1em;padding-left:.2em}.alert-info[_ngcontent-%COMP%]{background-color:#483d8b;color:#fff;padding:0;text-align:center;line-height:3em}"]}),t})()},LDPf:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("AytR"),o=i("fXoL"),a=i("tk/3"),r=i("JSOo");let c=(()=>{class t{constructor(t,e){this.http=t,this.commonService=e}getAllAsistentes(t){const e=JSON.stringify(t);return this.http.put(n.a+"/asistente.php",e,{headers:this.commonService.headers})}addAsistente(t){const e=JSON.stringify(t);return this.http.post(n.a+"/asistente.php",e,{headers:this.commonService.headers})}deleteAsistente(t){return this.http.delete(`${n.a}/asistente.php?id=${t}`,{headers:this.commonService.headers})}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(a.b),o.Wb(r.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},xk6k:function(t,e,i){"use strict";i.r(e),i.d(e,"AsistentesModule",(function(){return V}));var n=i("ofXK"),o=i("tyNb"),a=i("mrSG"),r=i("M9IT"),c=i("+0xr"),s=i("Dh3D"),l=i("3Pt+"),d=i("JrXS"),b=i("0IaG"),m=i("Xksa"),u=i("fXoL"),h=i("LDPf"),f=i("dNgK");let p=(()=>{class t{constructor(t,e,i,n){this.dialogRef=t,this.asistente=e,this.servicioAsistente=i,this.snackBar=n}ngOnInit(){this.ENTIDAD=m.b}onNoClick(){this.dialogRef.close({ok:!1})}confirmDelete(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioAsistente.deleteAsistente(this.asistente.id_asistente).toPromise();t.ok?(this.snackBar.open(t.message,m.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,m.a,{duration:5e3})}))}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(b.f),u.Mb(b.a),u.Mb(h.a),u.Mb(f.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-delete-asistente"]],decls:13,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteReunion",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,e){1&t&&(u.Sb(0,"div",0),u.Sb(1,"h3",1),u.Cc(2),u.Rb(),u.Sb(3,"div",2),u.Cc(4),u.Nb(5,"p"),u.Cc(6),u.Nb(7,"p"),u.Rb(),u.Sb(8,"div",3),u.Sb(9,"button",4),u.Zb("click",(function(){return e.confirmDelete()})),u.Cc(10),u.Rb(),u.Sb(11,"button",5),u.Zb("click",(function(){return e.onNoClick()})),u.Cc(12,"Cancelar"),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.Bb(2),u.Ec("\xbfSeguro que deseas eliminar este ",e.ENTIDAD,"?"),u.Bb(2),u.Ec(" Id: ",e.asistente.id_asistente," "),u.Bb(2),u.Ec(" Asistente: ",e.asistente.nombre_completo," "),u.Bb(4),u.Ec("Eliminar ",e.ENTIDAD,""))},styles:[""]}),t})();var g=i("rDax"),C=i("5hAj"),S=i("qFsG"),w=i("bTqV"),v=i("NFeN");function B(t,e){if(1&t&&(u.Sb(0,"th",15),u.Nb(1,"input",16),u.Nb(2,"span",17),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.idAsistenteFilter)}}function R(t,e){if(1&t&&(u.Sb(0,"td",18),u.Cc(1),u.Rb()),2&t){const t=e.$implicit;u.Bb(1),u.Ec(" ",t.id_asistente," ")}}function N(t,e){if(1&t&&(u.Sb(0,"th",15),u.Nb(1,"input",19),u.Nb(2,"span",17),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.nombreCompletoFilter)}}function O(t,e){if(1&t&&(u.Sb(0,"td",18),u.Cc(1),u.Rb()),2&t){const t=e.$implicit;u.Bb(1),u.Ec(" ",t.nombre_completo,"")}}function _(t,e){if(1&t&&(u.Sb(0,"th",15),u.Nb(1,"input",20),u.Nb(2,"span",17),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.cargoFilter)}}function k(t,e){if(1&t&&(u.Sb(0,"td",18),u.Cc(1),u.Rb()),2&t){const t=e.$implicit;u.Bb(1),u.Ec(" ",t.cargo,"")}}function P(t,e){if(1&t&&(u.Sb(0,"th",15),u.Nb(1,"input",21),u.Nb(2,"span",17),u.Rb()),2&t){const t=u.dc();u.Bb(1),u.jc("formControl",t.entidadFilter)}}function y(t,e){if(1&t&&(u.Sb(0,"td",18),u.Cc(1),u.Rb()),2&t){const t=e.$implicit;u.Bb(1),u.Ec(" ",t.entidad,"")}}function M(t,e){if(1&t){const t=u.Tb();u.Sb(0,"th",15),u.Sb(1,"button",22),u.Zb("click",(function(){return u.tc(t),u.dc().addAsistente()})),u.Sb(2,"mat-icon"),u.Cc(3," add_circle "),u.Rb(),u.Rb(),u.Rb()}}function D(t,e){if(1&t){const t=u.Tb();u.Sb(0,"td",18),u.Sb(1,"button",22),u.Zb("click",(function(){u.tc(t);const i=e.$implicit;return u.dc().deleteAsistente(i)})),u.Sb(2,"mat-icon"),u.Cc(3," remove_circle_outline "),u.Rb(),u.Rb(),u.Rb()}}function F(t,e){1&t&&u.Nb(0,"tr",23)}function A(t,e){1&t&&u.Nb(0,"tr",24)}const j=function(){return[5,10,25]},I=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,a){this.dialog=t,this.dialogRef=e,this.asistentesService=i,this.overlay=n,this.snackBar=o,this.reunionService=a,this.dataSource=new c.k,this.idAsistenteFilter=new l.e,this.nombreCompletoFilter=new l.e,this.cargoFilter=new l.e,this.entidadFilter=new l.e,this.filterValues={id_asistente:"",nombre_completo:"",cargo:"",entidad:""}}ngOnInit(){this.reunion=this.reunionService.reunion,this.getAsistentes(this.reunion)}getAsistentes({id_reunion:t}){return Object(a.a)(this,void 0,void 0,(function*(){const e=yield this.asistentesService.getAllAsistentes(t).toPromise();this.permises=e.permises,e.ok&&(this.asistentesService.asistente=e.data,this.displayedColumns=["NombreCompleto","Cargo","Entidad","actions"],this.dataSource.data=this.asistentesService.asistente,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addAsistente(){return Object(a.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(d.a,{data:this.reunion,scrollStrategy:this.overlay.scrollStrategies.noop()}),e=yield t.afterClosed().toPromise();this.ngOnInit(),e&&e.ok&&(this.ngOnInit(),console.log("test"))}))}deleteAsistente(t){return Object(a.a)(this,void 0,void 0,(function*(){const e=this.dialog.open(p,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),i=yield e.afterClosed().toPromise();i&&i.ok&&this.ngOnInit()}))}createFilter(){return(t,e)=>{const i=JSON.parse(e);return-1!==t.id_asistente.toString().indexOf(i.id_asistente)&&-1!==t.nombre_completo.toLowerCase().indexOf(i.nombre_completo.toLowerCase())&&-1!==t.cargo.toLowerCase().indexOf(i.cargo.toLowerCase())&&-1!==t.entidad.toLowerCase().indexOf(i.entidad.toLowerCase())}}onChanges(){this.idAsistenteFilter.valueChanges.subscribe(t=>{this.filterValues.id_asistente=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.cargoFilter.valueChanges.subscribe(t=>{this.filterValues.nombre_completo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.cargoFilter.valueChanges.subscribe(t=>{this.filterValues.cargo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.entidadFilter.valueChanges.subscribe(t=>{this.filterValues.entidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(b.b),u.Mb(b.f),u.Mb(h.a),u.Mb(g.c),u.Mb(f.a),u.Mb(C.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-asistentes"]],viewQuery:function(t,e){var i;1&t&&(u.xc(r.a,!0),u.xc(s.a,!0)),2&t&&(u.pc(i=u.ac())&&(e.paginator=i.first),u.pc(i=u.ac())&&(e.sort=i.first))},decls:24,vars:6,consts:[[1,"container"],["mat-dialog-title",""],[1,"example-table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","NombreCompleto"],["matColumnDef","Cargo"],["matColumnDef","Entidad"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","Id",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Nombre",3,"formControl"],["matInput","","placeholder","Cargo",3,"formControl"],["matInput","","placeholder","Entidad",3,"formControl"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(u.Sb(0,"div",0),u.Sb(1,"h3",1),u.Cc(2,"Asistentes de la reuni\xf3n"),u.Rb(),u.Sb(3,"div",2),u.Sb(4,"table",3),u.Qb(5,4),u.Bc(6,B,3,1,"th",5),u.Bc(7,R,2,1,"td",6),u.Pb(),u.Qb(8,7),u.Bc(9,N,3,1,"th",5),u.Bc(10,O,2,1,"td",6),u.Pb(),u.Qb(11,8),u.Bc(12,_,3,1,"th",5),u.Bc(13,k,2,1,"td",6),u.Pb(),u.Qb(14,9),u.Bc(15,P,3,1,"th",5),u.Bc(16,y,2,1,"td",6),u.Pb(),u.Qb(17,10),u.Bc(18,M,4,0,"th",5),u.Bc(19,D,4,0,"td",6),u.Pb(),u.Bc(20,F,1,0,"tr",11),u.Bc(21,A,1,0,"tr",12),u.Rb(),u.Rb(),u.Nb(22,"mat-paginator",13,14),u.Rb()),2&t&&(u.Bb(4),u.jc("dataSource",e.dataSource),u.Bb(16),u.jc("matHeaderRowDef",e.displayedColumns),u.Bb(1),u.jc("matRowDefColumns",e.displayedColumns),u.Bb(1),u.jc("pageSize",10)("pageSizeOptions",u.mc(5,j)))},directives:[b.g,c.j,s.a,c.c,c.e,c.b,c.g,c.i,r.a,c.d,S.b,l.c,l.o,l.f,s.b,c.a,w.a,v.a,c.f,c.h],styles:[".container[_ngcontent-%COMP%]{padding-bottom:10em}.mat-dialog-content[_ngcontent-%COMP%]{margin-left:5%}.mat-dialog-title[_ngcontent-%COMP%]{text-align:center}.mat-dialog-actions[_ngcontent-%COMP%]{display:block;text-align:center}.mat-column-Id[_ngcontent-%COMP%]{width:1.5em!important;padding-right:4em!important;word-wrap:break-word!important}.mat-column-NombreCompleto[_ngcontent-%COMP%]{width:18em!important}.mat-column-Cargo[_ngcontent-%COMP%], .mat-column-NombreCompleto[_ngcontent-%COMP%]{padding-right:2em!important;word-wrap:break-word!important}.mat-column-Cargo[_ngcontent-%COMP%]{width:16em!important}.mat-column-Entidad[_ngcontent-%COMP%]{width:18em!important}.mat-column-actions[_ngcontent-%COMP%], .mat-column-Entidad[_ngcontent-%COMP%]{padding-right:0!important;word-wrap:break-word!important}.mat-column-actions[_ngcontent-%COMP%]{width:2em!important}.selected[_ngcontent-%COMP%]   .mat-cell.blanco[_ngcontent-%COMP%]{color:#fff!important}.selected[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{background-color:rgba(114,109,254,.6862745098039216)}button[_ngcontent-%COMP%]{margin-left:2em}"]}),t})()},{path:"add-asistente",loadChildren:()=>i.e(32).then(i.bind(null,"jlky")).then(t=>t.AddAsistenteModule)}];let x=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(I)],o.f]}),t})();var E=i("ah4G");let V=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[n.c,x,E.a]]}),t})()}}]);