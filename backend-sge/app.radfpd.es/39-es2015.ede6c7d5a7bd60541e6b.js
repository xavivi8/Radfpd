(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{oBpF:function(t,i,e){"use strict";e.r(i),e.d(i,"TiposEntidadModule",(function(){return M}));var o=e("ofXK"),a=e("tyNb"),n=e("mrSG"),d=e("M9IT"),c=e("+0xr"),r=e("Dh3D"),s=e("3Pt+"),l=e("Xksa"),b=e("fXoL"),p=e("0IaG"),u=e("dNgK"),m=e("fUJ1"),f=e("kmnG"),h=e("qFsG"),g=e("bTqV");let v=(()=>{class t{constructor(t,i,e){this.dialogRef=t,this.snackBar=i,this.servicioTiposEntidad=e}ngOnInit(){this.tipoEntidadForm=new s.h({tipo_entidad:new s.e(null,s.v.required),observaciones:new s.e(null)}),this.ENTIDAD=l.j}confirmAdd(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.tipoEntidadForm.valid){const t=this.tipoEntidadForm.value,i=yield this.servicioTiposEntidad.addTipoEntidad(t).toPromise();i.ok?(this.snackBar.open(i.message,l.a,{duration:5e3}),this.dialogRef.close({ok:i.ok,data:i.data})):this.snackBar.open(i.message,l.a,{duration:5e3})}else this.snackBar.open(l.n,l.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(i){return new(i||t)(b.Mb(p.f),b.Mb(u.a),b.Mb(m.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-add-tipo-entidad"]],decls:15,vars:4,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","formControlName","tipo_entidad","name","tipo_entidad","maxlength","100","required","",3,"placeholder"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,i){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2),b.Rb(),b.Sb(3,"form",2),b.Sb(4,"div",3),b.Sb(5,"mat-form-field",4),b.Nb(6,"input",5),b.Rb(),b.Rb(),b.Sb(7,"div",3),b.Sb(8,"mat-form-field",4),b.Nb(9,"textarea",6),b.Rb(),b.Rb(),b.Sb(10,"div",7),b.Sb(11,"button",8),b.Zb("click",(function(){return i.confirmAdd()})),b.Cc(12,"Guardar"),b.Rb(),b.Sb(13,"button",9),b.Zb("click",(function(){return i.onNoClick()})),b.Cc(14,"Cancelar"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(2),b.Ec("A\xf1adir ",i.ENTIDAD,""),b.Bb(1),b.jc("formGroup",i.tipoEntidadForm),b.Bb(3),b.kc("placeholder",i.ENTIDAD),b.Bb(5),b.jc("disabled",!i.tipoEntidadForm.valid))},directives:[p.g,s.w,s.p,s.i,f.c,h.b,s.c,s.o,s.g,s.k,s.u,p.c,g.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),t})(),S=(()=>{class t{constructor(t,i,e,o){this.dialogRef=t,this.snackBar=i,this.servicioTiposEntidad=e,this.tipoEntidad=o}ngOnInit(){this.ENTIDAD=l.j,this.tipoEntidadForm=new s.h({id_tipo_entidad:new s.e(this.tipoEntidad.id_tipo_entidad,s.v.required),tipo_entidad:new s.e(this.tipoEntidad.tipo_entidad,s.v.required),observaciones:new s.e(this.tipoEntidad.observaciones)})}confirmEdit(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.tipoEntidadForm.valid){const t=this.tipoEntidadForm.value,i=yield this.servicioTiposEntidad.editTipoEntidad(t).toPromise();i.ok?(this.snackBar.open(i.message,l.a,{duration:5e3}),this.dialogRef.close({ok:i.ok,data:i.data})):this.snackBar.open(l.m,l.a,{duration:5e3})}else this.snackBar.open(l.m,l.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(i){return new(i||t)(b.Mb(p.f),b.Mb(u.a),b.Mb(m.a),b.Mb(p.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-edit-tipo-entidad"]],decls:15,vars:4,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","formControlName","tipo_entidad","name","tipo_entidad","maxlength","100","required","",3,"placeholder"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","Observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,i){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2),b.Rb(),b.Sb(3,"form",2),b.Sb(4,"div",3),b.Sb(5,"mat-form-field",4),b.Nb(6,"input",5),b.Rb(),b.Rb(),b.Sb(7,"div",3),b.Sb(8,"mat-form-field",4),b.Nb(9,"textarea",6),b.Rb(),b.Rb(),b.Sb(10,"div",7),b.Sb(11,"button",8),b.Zb("click",(function(){return i.confirmEdit()})),b.Cc(12,"Guardar"),b.Rb(),b.Sb(13,"button",9),b.Zb("click",(function(){return i.onNoClick()})),b.Cc(14,"Cancelar"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(2),b.Ec("Editar ",i.ENTIDAD,""),b.Bb(1),b.jc("formGroup",i.tipoEntidadForm),b.Bb(3),b.kc("placeholder",i.ENTIDAD),b.Bb(5),b.jc("disabled",!i.tipoEntidadForm.valid))},directives:[p.g,s.w,s.p,s.i,f.c,h.b,s.c,s.o,s.g,s.k,s.u,p.c,g.a],styles:[""]}),t})(),E=(()=>{class t{constructor(t,i,e,o){this.dialogRef=t,this.tipoEntidad=i,this.servicioTipoEntidad=e,this.snackBar=o}ngOnInit(){this.ENTIDAD=l.j}onNoClick(){this.dialogRef.close({ok:!1})}confirmDelete(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.servicioTipoEntidad.deleteTipoEntidad(this.tipoEntidad.id_tipo_entidad).toPromise();t.ok?(this.snackBar.open(t.message,l.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,l.a,{duration:5e3})}))}}return t.\u0275fac=function(i){return new(i||t)(b.Mb(p.f),b.Mb(p.a),b.Mb(m.a),b.Mb(u.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-delete-tipo-entidad"]],decls:13,vars:5,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteTipoEntidad",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,i){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2),b.Rb(),b.Sb(3,"div",2),b.Cc(4),b.Nb(5,"p"),b.Cc(6),b.Nb(7,"p"),b.Rb(),b.Sb(8,"div",3),b.Sb(9,"button",4),b.Zb("click",(function(){return i.confirmDelete()})),b.Cc(10),b.Rb(),b.Sb(11,"button",5),b.Zb("click",(function(){return i.onNoClick()})),b.Cc(12,"Cancelar"),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(2),b.Ec("\xbfSeguro que deseas eliminar este ",i.ENTIDAD,"?"),b.Bb(2),b.Ec(" Id: ",i.tipoEntidad.id_tipo_entidad," "),b.Bb(2),b.Fc(" ",i.ENTIDAD,": ",i.tipoEntidad.tipo_entidad," "),b.Bb(4),b.Ec("Eliminar ",i.ENTIDAD,""))},directives:[p.g,p.d,p.c,g.a],styles:[""]}),t})();var k=e("rDax"),C=e("NFeN");function R(t,i){if(1&t&&(b.Sb(0,"th",12),b.Nb(1,"input",13),b.Nb(2,"span",14),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("formControl",t.idTipoEntidadFilter)}}function N(t,i){if(1&t&&(b.Sb(0,"td",15),b.Cc(1),b.Rb()),2&t){const t=i.$implicit;b.Bb(1),b.Ec(" ",t.id_tipo_entidad," ")}}function _(t,i){if(1&t&&(b.Sb(0,"th",12),b.Nb(1,"input",16),b.Nb(2,"span",14),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("formControl",t.tipoEntidadFilter)}}function w(t,i){if(1&t&&(b.Sb(0,"td",15),b.Cc(1),b.Rb()),2&t){const t=i.$implicit;b.Bb(1),b.Ec(" ",t.tipo_entidad," ")}}function B(t,i){if(1&t){const t=b.Tb();b.Sb(0,"th",12),b.Sb(1,"button",17),b.Zb("click",(function(){return b.tc(t),b.dc().addTipoEntidad()})),b.Sb(2,"mat-icon"),b.Cc(3," add_circle "),b.Rb(),b.Rb(),b.Rb()}}function T(t,i){if(1&t){const t=b.Tb();b.Sb(0,"td",15),b.Sb(1,"button",17),b.Zb("click",(function(){b.tc(t);const e=i.$implicit;return b.dc().editTipoEntidad(e)})),b.Sb(2,"mat-icon"),b.Cc(3," mode_edit "),b.Rb(),b.Rb(),b.Sb(4,"button",17),b.Zb("click",(function(){b.tc(t);const e=i.$implicit;return b.dc().deleteTipoEntidad(e)})),b.Sb(5,"mat-icon"),b.Cc(6," delete "),b.Rb(),b.Rb(),b.Rb()}}function y(t,i){1&t&&b.Nb(0,"tr",18)}function D(t,i){1&t&&b.Nb(0,"tr",19)}const I=function(){return[5,10,25]},O=[{path:"",component:(()=>{class t{constructor(t,i,e){this.dialog=t,this.tiposEntidadService=i,this.overlay=e,this.dataSource=new c.k,this.idTipoEntidadFilter=new s.e,this.tipoEntidadFilter=new s.e,this.filterValues={id_tipo_entidad:"",tipo_entidad:""}}ngOnInit(){this.getTiposEntidad()}getTiposEntidad(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.tiposEntidadService.getAllTiposEntidad().toPromise();this.permises=t.permises,t.ok&&(this.tiposEntidadService.tipoEntidad=t.data,this.displayedColumns=["id_tipo_entidad","tipo_entidad","actions"],this.dataSource.data=this.tiposEntidadService.tipoEntidad,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addTipoEntidad(){return Object(n.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(v,{scrollStrategy:this.overlay.scrollStrategies.noop()}),i=yield t.afterClosed().toPromise();i&&i.ok&&this.ngOnInit()}))}editTipoEntidad(t){return Object(n.a)(this,void 0,void 0,(function*(){const i=this.dialog.open(S,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),e=yield i.afterClosed().toPromise();e&&e.ok&&this.ngOnInit()}))}deleteTipoEntidad(t){return Object(n.a)(this,void 0,void 0,(function*(){const i=this.dialog.open(E,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),e=yield i.afterClosed().toPromise();e&&e.ok&&this.ngOnInit()}))}createFilter(){return(t,i)=>{const e=JSON.parse(i);return-1!==t.id_tipo_entidad.toString().indexOf(e.id_tipo_entidad)&&-1!==t.tipo_entidad.toLowerCase().indexOf(e.tipo_entidad.toLowerCase())}}onChanges(){this.idTipoEntidadFilter.valueChanges.subscribe(t=>{this.filterValues.id_tipo_entidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.tipoEntidadFilter.valueChanges.subscribe(t=>{this.filterValues.tipo_entidad=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}}return t.\u0275fac=function(i){return new(i||t)(b.Mb(p.b),b.Mb(m.a),b.Mb(k.c))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-tipos-entidad"]],viewQuery:function(t,i){var e;1&t&&(b.xc(d.a,!0),b.xc(r.a,!0)),2&t&&(b.pc(e=b.ac())&&(i.paginator=e.first),b.pc(e=b.ac())&&(i.sort=e.first))},decls:16,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_tipo_entidad"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tipo_entidad"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","Id",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Tipo Entidad",3,"formControl"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"table",2),b.Qb(3,3),b.Bc(4,R,3,1,"th",4),b.Bc(5,N,2,1,"td",5),b.Pb(),b.Qb(6,6),b.Bc(7,_,3,1,"th",4),b.Bc(8,w,2,1,"td",5),b.Pb(),b.Qb(9,7),b.Bc(10,B,4,0,"th",4),b.Bc(11,T,7,0,"td",5),b.Pb(),b.Bc(12,y,1,0,"tr",8),b.Bc(13,D,1,0,"tr",9),b.Rb(),b.Rb(),b.Nb(14,"mat-paginator",10,11),b.Rb()),2&t&&(b.Bb(2),b.jc("dataSource",i.dataSource),b.Bb(10),b.jc("matHeaderRowDef",i.displayedColumns),b.Bb(1),b.jc("matRowDefColumns",i.displayedColumns),b.Bb(1),b.jc("pageSize",10)("pageSizeOptions",b.mc(5,I)))},directives:[c.j,r.a,c.c,c.e,c.b,c.g,c.i,d.a,c.d,h.b,s.c,s.o,s.f,r.b,c.a,g.a,C.a,c.f,c.h],styles:[""]}),t})()}];let j=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(i){return new(i||t)},imports:[[a.f.forChild(O)],a.f]}),t})();var F=e("ah4G");let M=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(i){return new(i||t)},imports:[[o.c,j,F.a]]}),t})()}}]);