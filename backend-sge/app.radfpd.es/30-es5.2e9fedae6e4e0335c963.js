!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"12xl":function(t,n,i){"use strict";i.r(n),i.d(n,"OpcionesModule",(function(){return Q}));var a,c,r,s=i("ofXK"),u=i("tyNb"),l=i("mrSG"),d=i("M9IT"),p=i("Dh3D"),b=i("+0xr"),m=i("3Pt+"),f=i("Xksa"),h=i("fXoL"),v=i("0IaG"),g=i("dNgK"),S=i("kxEN"),k=i("kmnG"),R=i("qFsG"),C=i("bTqV"),w=((r=function(){function t(o,n,i){e(this,t),this.dialogRef=o,this.snackBar=n,this.servicioOpciones=i}return o(t,[{key:"ngOnInit",value:function(){this.opcionForm=new m.h({opcion:new m.e(null,m.v.required),accion:new m.e(null,m.v.required),texto_tooltip:new m.e(null),observaciones:new m.e(null)})}},{key:"confirmAdd",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.opcionForm.valid){e.next=8;break}return t=this.opcionForm.value,e.next=4,this.servicioOpciones.addOpcion(t).toPromise();case 4:(o=e.sent).ok?(this.snackBar.open(o.message,f.a,{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(o.message,f.a,{duration:5e3}),e.next=9;break;case 8:this.snackBar.open(f.n,f.a,{duration:5e3});case 9:case"end":return e.stop()}}),e,this)})))}},{key:"onNoClick",value:function(){this.dialogRef.close({ok:!1})}}]),t}()).\u0275fac=function(e){return new(e||r)(h.Mb(v.f),h.Mb(g.a),h.Mb(S.a))},r.\u0275cmp=h.Gb({type:r,selectors:[["app-add-opcion"]],decls:21,vars:2,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Opci\xf3n","formControlName","opcion","name","opcion","maxlength","100","required",""],["matInput","","placeholder","Acci\xf3n","formControlName","accion","name","accion","maxlength","100","required",""],["matInput","","placeholder","Tooltip men\xfa","formControlName","texto_tooltip","name","texto_tooltip","maxlength","255"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(e,t){1&e&&(h.Sb(0,"div",0),h.Sb(1,"h3",1),h.Cc(2,"A\xf1adir opci\xf3n"),h.Rb(),h.Sb(3,"form",2),h.Sb(4,"div",3),h.Sb(5,"mat-form-field",4),h.Nb(6,"input",5),h.Rb(),h.Rb(),h.Sb(7,"div",3),h.Sb(8,"mat-form-field",4),h.Nb(9,"input",6),h.Rb(),h.Rb(),h.Sb(10,"div",3),h.Sb(11,"mat-form-field",4),h.Nb(12,"input",7),h.Rb(),h.Rb(),h.Sb(13,"div",3),h.Sb(14,"mat-form-field",4),h.Nb(15,"textarea",8),h.Rb(),h.Rb(),h.Sb(16,"div",9),h.Sb(17,"button",10),h.Zb("click",(function(){return t.confirmAdd()})),h.Cc(18,"Guardar"),h.Rb(),h.Sb(19,"button",11),h.Zb("click",(function(){return t.onNoClick()})),h.Cc(20,"Cancelar"),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&e&&(h.Bb(3),h.jc("formGroup",t.opcionForm),h.Bb(14),h.jc("disabled",!t.opcionForm.valid))},directives:[v.g,m.w,m.p,m.i,k.c,R.b,m.c,m.o,m.g,m.k,m.u,v.c,C.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),r),O=((c=function(){function t(o,n,i,a){e(this,t),this.dialogRef=o,this.snackBar=n,this.servicioOpciones=i,this.opcion=a}return o(t,[{key:"ngOnInit",value:function(){this.opcionForm=new m.h({id_opcion_menu:new m.e(this.opcion.id_opcion_menu,m.v.required),opcion:new m.e(this.opcion.opcion,m.v.required),accion:new m.e(this.opcion.accion,m.v.required),texto_tooltip:new m.e(this.opcion.texto_tooltip),observaciones:new m.e(this.opcion.observaciones)})}},{key:"confirmAdd",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.opcionForm.valid){e.next=8;break}return t=this.opcionForm.value,e.next=4,this.servicioOpciones.editOpcion(t).toPromise();case 4:(o=e.sent).ok?(this.snackBar.open(o.message,f.a,{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(o.message,f.a,{duration:5e3}),e.next=9;break;case 8:this.snackBar.open(f.n,f.a,{duration:5e3});case 9:case"end":return e.stop()}}),e,this)})))}},{key:"onNoClick",value:function(){this.dialogRef.close({ok:!1})}}]),t}()).\u0275fac=function(e){return new(e||c)(h.Mb(v.f),h.Mb(g.a),h.Mb(S.a),h.Mb(v.a))},c.\u0275cmp=h.Gb({type:c,selectors:[["app-edit-opcion"]],decls:21,vars:2,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Opci\xf3n","formControlName","opcion","name","opcion","maxlength","100","required",""],["matInput","","placeholder","Acci\xf3n","formControlName","accion","name","accion","maxlength","100","required",""],["matInput","","placeholder","Tooltip men\xfa","formControlName","texto_tooltip","name","texto_tooltip","maxlength","255"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(e,t){1&e&&(h.Sb(0,"div",0),h.Sb(1,"h3",1),h.Cc(2,"Editar opci\xf3n"),h.Rb(),h.Sb(3,"form",2),h.Sb(4,"div",3),h.Sb(5,"mat-form-field",4),h.Nb(6,"input",5),h.Rb(),h.Rb(),h.Sb(7,"div",3),h.Sb(8,"mat-form-field",4),h.Nb(9,"input",6),h.Rb(),h.Rb(),h.Sb(10,"div",3),h.Sb(11,"mat-form-field",4),h.Nb(12,"input",7),h.Rb(),h.Rb(),h.Sb(13,"div",3),h.Sb(14,"mat-form-field",4),h.Nb(15,"textarea",8),h.Rb(),h.Rb(),h.Sb(16,"div",9),h.Sb(17,"button",10),h.Zb("click",(function(){return t.confirmAdd()})),h.Cc(18,"Guardar"),h.Rb(),h.Sb(19,"button",11),h.Zb("click",(function(){return t.onNoClick()})),h.Cc(20,"Cancelar"),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&e&&(h.Bb(3),h.jc("formGroup",t.opcionForm),h.Bb(14),h.jc("disabled",!t.opcionForm.valid))},directives:[v.g,m.w,m.p,m.i,k.c,R.b,m.c,m.o,m.g,m.k,m.u,v.c,C.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),c),x=((a=function(){function t(o,n,i,a){e(this,t),this.dialogRef=o,this.opcion=n,this.servicioOpciones=i,this.snackBar=a}return o(t,[{key:"ngOnInit",value:function(){}},{key:"onNoClick",value:function(){this.dialogRef.close({ok:!1})}},{key:"confirmDelete",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.servicioOpciones.deleteOpcion(this.opcion.id_opcion_menu).toPromise();case 2:(t=e.sent).ok?(this.snackBar.open(t.message,f.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,f.a,{duration:5e3});case 4:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(e){return new(e||a)(h.Mb(v.f),h.Mb(v.a),h.Mb(S.a),h.Mb(g.a))},a.\u0275cmp=h.Gb({type:a,selectors:[["app-delete-opcion"]],decls:13,vars:2,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteOpcion",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(e,t){1&e&&(h.Sb(0,"div",0),h.Sb(1,"h3",1),h.Cc(2,"\xbfSeguro que deseas eliminar esta opci\xf3n?"),h.Rb(),h.Sb(3,"div",2),h.Cc(4),h.Nb(5,"p"),h.Cc(6),h.Nb(7,"p"),h.Rb(),h.Sb(8,"div",3),h.Sb(9,"button",4),h.Zb("click",(function(){return t.confirmDelete()})),h.Cc(10,"Eliminar Opci\xf3n"),h.Rb(),h.Sb(11,"button",5),h.Zb("click",(function(){return t.onNoClick()})),h.Cc(12,"Cancelar"),h.Rb(),h.Rb(),h.Rb()),2&e&&(h.Bb(4),h.Ec(" Id: ",t.opcion.id_opcion_menu," "),h.Bb(2),h.Ec(" Opci\xf3n: ",t.opcion.opcion," "))},directives:[v.g,v.d,v.c,C.a],styles:["div.mat-dialog-actions[_ngcontent-%COMP%]{width:15em;margin:auto}"]}),a),y=i("rDax"),N=i("NFeN");function B(e,t){if(1&e&&(h.Sb(0,"th",12),h.Nb(1,"input",13),h.Nb(2,"span",14),h.Rb()),2&e){var o=h.dc();h.Bb(1),h.jc("formControl",o.idFilter)}}function _(e,t){if(1&e&&(h.Sb(0,"td",15),h.Cc(1),h.Rb()),2&e){var o=t.$implicit;h.Bb(1),h.Ec(" ",o.id_opcion_menu," ")}}function j(e,t){if(1&e&&(h.Sb(0,"th",12),h.Nb(1,"input",16),h.Nb(2,"span",14),h.Rb()),2&e){var o=h.dc();h.Bb(1),h.jc("formControl",o.opcionFilter)}}function M(e,t){if(1&e&&(h.Sb(0,"td",15),h.Cc(1),h.Rb()),2&e){var o=t.$implicit;h.Bb(1),h.Ec(" ",o.opcion," ")}}function I(e,t){if(1&e){var o=h.Tb();h.Sb(0,"button",18),h.Zb("click",(function(){return h.tc(o),h.dc(2).addOpcion()})),h.Sb(1,"mat-icon"),h.Cc(2," add_circle "),h.Rb(),h.Rb()}}function F(e,t){if(1&e&&(h.Sb(0,"th",12),h.Bc(1,I,3,0,"button",17),h.Rb()),2&e){var o=h.dc();h.Bb(1),h.jc("ngIf",o.permises.add)}}function P(e,t){if(1&e){var o=h.Tb();h.Sb(0,"button",18),h.Zb("click",(function(){h.tc(o);var e=h.dc().$implicit;return h.dc().editOpcion(e)})),h.Sb(1,"mat-icon"),h.Cc(2," mode_edit "),h.Rb(),h.Rb()}}function D(e,t){if(1&e){var o=h.Tb();h.Sb(0,"button",18),h.Zb("click",(function(){h.tc(o);var e=h.dc().$implicit;return h.dc().deleteOpcion(e)})),h.Sb(1,"mat-icon"),h.Cc(2," delete "),h.Rb(),h.Rb()}}function G(e,t){if(1&e&&(h.Sb(0,"td",15),h.Bc(1,P,3,0,"button",17),h.Bc(2,D,3,0,"button",17),h.Rb()),2&e){var o=h.dc();h.Bb(1),h.jc("ngIf",o.permises.edit),h.Bb(1),h.jc("ngIf",o.permises.delete)}}function q(e,t){1&e&&h.Nb(0,"tr",19)}function Z(e,t){1&e&&h.Nb(0,"tr",20)}var A,E,T,J=function(){return[5,10,25]},z=[{path:"",component:(A=function(){function t(o,n,i){e(this,t),this.dialog=o,this.opcionesService=n,this.overlay=i,this.dataSource=new b.k,this.idFilter=new m.e,this.opcionFilter=new m.e,this.filterValues={id_opcion_menu:"",opcion:""}}return o(t,[{key:"ngOnInit",value:function(){this.getOpciones()}},{key:"getOpciones",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.opcionesService.getAllOpciones().toPromise();case 2:t=e.sent,this.permises=t.permises,t.ok&&(this.opcionesService.opciones=t.data,this.displayedColumns=["id_opcion_menu","opcion","actions"],this.dataSource.data=this.opcionesService.opciones,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"addOpcion",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.dialog.open(w,{scrollStrategy:this.overlay.scrollStrategies.noop()}),e.next=3,t.afterClosed().toPromise();case 3:(o=e.sent)&&o.ok&&(this.opcionesService.opciones.push(o.data),this.dataSource.data=this.opcionesService.opciones);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"editOpcion",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.dialog.open(O,{data:e,scrollStrategy:this.overlay.scrollStrategies.noop()}),t.next=3,o.afterClosed().toPromise();case 3:(n=t.sent)&&n.ok&&(this.opcionesService.updateOpcion(n.data),this.dataSource.data=this.opcionesService.opciones);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"deleteOpcion",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.dialog.open(x,{data:e,scrollStrategy:this.overlay.scrollStrategies.noop()}),t.next=3,o.afterClosed().toPromise();case 3:(n=t.sent)&&n.ok&&(this.opcionesService.removeOpcion(n.data),this.dataSource.data=this.opcionesService.opciones);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"createFilter",value:function(){return function(e,t){var o=JSON.parse(t);return-1!==e.id_opcion_menu.toString().indexOf(o.id_opcion_menu)&&-1!==e.opcion.toLowerCase().indexOf(o.opcion.toLowerCase())}}},{key:"onChanges",value:function(){var e=this;this.idFilter.valueChanges.subscribe((function(t){e.filterValues.id_opcion_menu=t,e.dataSource.filter=JSON.stringify(e.filterValues)})),this.opcionFilter.valueChanges.subscribe((function(t){e.filterValues.opcion=t,e.dataSource.filter=JSON.stringify(e.filterValues)}))}}]),t}(),A.\u0275fac=function(e){return new(e||A)(h.Mb(v.b),h.Mb(S.a),h.Mb(y.c))},A.\u0275cmp=h.Gb({type:A,selectors:[["app-opciones"]],viewQuery:function(e,t){var o;1&e&&(h.xc(d.a,!0),h.xc(p.a,!0)),2&e&&(h.pc(o=h.ac())&&(t.paginator=o.first),h.pc(o=h.ac())&&(t.sort=o.first))},decls:16,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_opcion_menu"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","opcion"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","ID",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Opcion",3,"formControl"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"table",2),h.Qb(3,3),h.Bc(4,B,3,1,"th",4),h.Bc(5,_,2,1,"td",5),h.Pb(),h.Qb(6,6),h.Bc(7,j,3,1,"th",4),h.Bc(8,M,2,1,"td",5),h.Pb(),h.Qb(9,7),h.Bc(10,F,2,1,"th",4),h.Bc(11,G,3,2,"td",5),h.Pb(),h.Bc(12,q,1,0,"tr",8),h.Bc(13,Z,1,0,"tr",9),h.Rb(),h.Rb(),h.Nb(14,"mat-paginator",10,11),h.Rb()),2&e&&(h.Bb(2),h.jc("dataSource",t.dataSource),h.Bb(10),h.jc("matHeaderRowDef",t.displayedColumns),h.Bb(1),h.jc("matRowDefColumns",t.displayedColumns),h.Bb(1),h.jc("pageSize",10)("pageSizeOptions",h.mc(5,J)))},directives:[b.j,p.a,b.c,b.e,b.b,b.g,b.i,d.a,b.d,R.b,m.c,m.o,m.f,p.b,b.a,s.l,C.a,N.a,b.f,b.h],styles:[""]}),A)}],V=((E=function t(){e(this,t)}).\u0275mod=h.Kb({type:E}),E.\u0275inj=h.Jb({factory:function(e){return new(e||E)},imports:[[u.f.forChild(z)],u.f]}),E),K=i("ah4G"),Q=((T=function t(){e(this,t)}).\u0275mod=h.Kb({type:T}),T.\u0275inj=h.Jb({factory:function(e){return new(e||T)},imports:[[s.c,V,K.a]]}),T)}}])}();