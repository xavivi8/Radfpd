(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{EL9k:function(t,o,i){"use strict";i.d(o,"a",(function(){return k}));var a=i("mrSG"),e=i("3Pt+"),n=i("0IaG"),c=i("Xksa"),r=i("fXoL"),l=i("dNgK"),d=i("am6X"),s=i("xMg3"),m=i("QzrE"),b=i("DrcZ"),f=i("y0zT"),u=i("kmnG"),p=i("qFsG"),h=i("ofXK"),g=i("d3UM"),v=i("FKr1"),S=i("bTqV");function C(t,o){1&t&&(r.Sb(0,"small",27),r.Cc(1,"Introduzca una direcci\xf3n de correo electr\xf3nico v\xe1lida"),r.Rb())}function R(t,o){if(1&t&&(r.Sb(0,"mat-option",28),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_zona),r.Bb(1),r.Ec(" ",t.zona," ")}}function N(t,o){if(1&t&&(r.Sb(0,"mat-option",28),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_entidad),r.Bb(1),r.Ec(" ",t.entidad," ")}}function _(t,o){if(1&t&&(r.Sb(0,"mat-option",28),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_familia),r.Bb(1),r.Ec(" ",t.familia," ")}}function w(t,o){if(1&t&&(r.Sb(0,"mat-option",28),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_provincia),r.Bb(1),r.Ec(" ",t.provincia," ")}}let k=(()=>{class t{constructor(t,o,i,a,e,n,c,r){this.dialogRef=t,this.snackBar=o,this.servicioContactos=i,this.servicioProvincia=a,this.servicioZona=e,this.servicioEntidad=n,this.servicioFamilia=c,this.idEntidad=r}ngOnInit(){this.contactoForm=new e.h({nombre:new e.e(null),apellidos:new e.e(null,e.v.required),email:new e.e(null,[e.v.required,e.v.email]),corporativo_largo:new e.e(null),corporativo_corto:new e.e(null),telefono_personal:new e.e(null),id_zona:new e.e(null),id_entidad:new e.e(this.idEntidad,e.v.required),cargo:new e.e(null),id_familia:new e.e(null),direccion:new e.e(null),cp:new e.e(null),localidad:new e.e(null),id_provincia:new e.e(null),observaciones:new e.e(null)}),this.ENTIDAD=c.d,this.getProvincias(),this.getZonas(),this.getEntidades(),this.getFamilias()}confirmAdd(){return Object(a.a)(this,void 0,void 0,(function*(){if(this.contactoForm.valid){const t=this.contactoForm.value,o=yield this.servicioContactos.addContacto(t).toPromise();o.ok?(this.snackBar.open(o.message,c.a,{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(o.message,c.a,{duration:5e3})}else this.snackBar.open(c.n,c.a,{duration:5e3})}))}getProvincias(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioProvincia.getAllProvincias().toPromise();t.ok&&(this.provincias=t.data)}))}getZonas(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioZona.getAllZonas().toPromise();t.ok&&(this.zonas=t.data)}))}getEntidades(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioEntidad.getAllEntidades().toPromise();t.ok&&(this.entidades=t.data)}))}getFamilias(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioFamilia.getAllFamilias().toPromise();t.ok&&(this.familias=t.data)}))}onNoClick(){this.dialogRef.close({ok:!1})}get email(){return this.contactoForm.get("email")}}return t.\u0275fac=function(o){return new(o||t)(r.Mb(n.f),r.Mb(l.a),r.Mb(d.a),r.Mb(s.a),r.Mb(m.a),r.Mb(b.a),r.Mb(f.a),r.Mb(n.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-add-contacto"]],decls:75,vars:9,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Nombre","formControlName","nombre","name","nombre","maxlength","100"],["matInput","","placeholder","Apellidos","formControlName","apellidos","name","apellidos","maxlength","100","required",""],["matInput","","placeholder","Email","formControlName","email","name","email","maxlength","100","ngModel","","required","",3,"email"],["class","text-danger",4,"ngIf"],["matInput","","placeholder","Corporativo Largo","formControlName","corporativo_largo","name","corporativo_largo","maxlength","100"],["matInput","","placeholder","Corporativo Corto","formControlName","corporativo_corto","name","corporativo_corto","maxlength","100"],["matInput","","placeholder","Telefono Personal","formControlName","telefono_personal","name","telefono_personal","maxlength","100"],["formControlName","id_zona"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form",2,"display","none"],["formControlName","id_entidad","required",""],["matInput","","placeholder","Cargo","formControlName","cargo","name","cargo","maxlength","100"],["formControlName","id_familia"],["matInput","","placeholder","Direcci\xf3n","formControlName","direccion","name","direccion","maxlength","100"],["matInput","","placeholder","CP","formControlName","cp","name","cp","maxlength","100"],["matInput","","placeholder","Localidad","formControlName","localidad","name","localidad","maxlength","100"],["formControlName","id_provincia"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","Observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"],[1,"text-danger"],[3,"value"]],template:function(t,o){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h3",1),r.Cc(2),r.Rb(),r.Sb(3,"form",2),r.Sb(4,"div",3),r.Sb(5,"mat-form-field",4),r.Nb(6,"input",5),r.Rb(),r.Rb(),r.Sb(7,"div",3),r.Sb(8,"mat-form-field",4),r.Nb(9,"input",6),r.Rb(),r.Rb(),r.Sb(10,"div",3),r.Sb(11,"mat-form-field",4),r.Nb(12,"input",7),r.Bc(13,C,2,0,"small",8),r.Rb(),r.Rb(),r.Sb(14,"div",3),r.Sb(15,"mat-form-field",4),r.Nb(16,"input",9),r.Rb(),r.Rb(),r.Sb(17,"div",3),r.Sb(18,"mat-form-field",4),r.Nb(19,"input",10),r.Rb(),r.Rb(),r.Sb(20,"div",3),r.Sb(21,"mat-form-field",4),r.Nb(22,"input",11),r.Rb(),r.Rb(),r.Sb(23,"div",3),r.Sb(24,"mat-form-field"),r.Sb(25,"mat-label"),r.Cc(26,"Zona"),r.Rb(),r.Sb(27,"mat-select",12),r.Sb(28,"mat-option",13),r.Cc(29,"Sin zona"),r.Rb(),r.Bc(30,R,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(31,"div",15),r.Sb(32,"mat-form-field"),r.Sb(33,"mat-label"),r.Cc(34,"Entidad"),r.Rb(),r.Sb(35,"mat-select",16),r.Sb(36,"mat-option",13),r.Cc(37,"Sin entidad"),r.Rb(),r.Bc(38,N,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(39,"div",3),r.Sb(40,"mat-form-field",4),r.Nb(41,"input",17),r.Rb(),r.Rb(),r.Sb(42,"div",3),r.Sb(43,"mat-form-field"),r.Sb(44,"mat-label"),r.Cc(45,"Familia Profesional"),r.Rb(),r.Sb(46,"mat-select",18),r.Sb(47,"mat-option",13),r.Cc(48,"Sin familia profesional"),r.Rb(),r.Bc(49,_,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(50,"div",3),r.Sb(51,"mat-form-field",4),r.Nb(52,"input",19),r.Rb(),r.Rb(),r.Sb(53,"div",3),r.Sb(54,"mat-form-field",4),r.Nb(55,"input",20),r.Rb(),r.Rb(),r.Sb(56,"div",3),r.Sb(57,"mat-form-field",4),r.Nb(58,"input",21),r.Rb(),r.Rb(),r.Sb(59,"div",3),r.Sb(60,"mat-form-field"),r.Sb(61,"mat-label"),r.Cc(62,"Provincia"),r.Rb(),r.Sb(63,"mat-select",22),r.Sb(64,"mat-option",13),r.Cc(65,"Sin provincia"),r.Rb(),r.Bc(66,w,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(67,"div",3),r.Sb(68,"mat-form-field",4),r.Nb(69,"textarea",23),r.Rb(),r.Rb(),r.Sb(70,"div",24),r.Sb(71,"button",25),r.Zb("click",(function(){return o.confirmAdd()})),r.Cc(72,"Guardar"),r.Rb(),r.Sb(73,"button",26),r.Zb("click",(function(){return o.onNoClick()})),r.Cc(74,"Cancelar"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.Ec("Editar ",o.ENTIDAD,""),r.Bb(1),r.jc("formGroup",o.contactoForm),r.Bb(9),r.jc("email",!0),r.Bb(1),r.jc("ngIf",null==o.email.errors?null:o.email.errors.email),r.Bb(17),r.jc("ngForOf",o.zonas),r.Bb(8),r.jc("ngForOf",o.entidades),r.Bb(11),r.jc("ngForOf",o.familias),r.Bb(17),r.jc("ngForOf",o.provincias),r.Bb(5),r.jc("disabled",!o.contactoForm.valid))},directives:[n.g,e.w,e.p,e.i,u.c,p.b,e.c,e.o,e.g,e.k,e.u,e.d,h.l,u.f,g.a,v.n,h.k,n.c,S.a],styles:[".container[_ngcontent-%COMP%]{margin:0 auto;min-width:30em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}.radioButton[_ngcontent-%COMP%]{text-align:left;margin-bottom:1em;padding-left:.2em}"]}),t})()},"LG+F":function(t,o,i){"use strict";i.d(o,"a",(function(){return s}));var a=i("mrSG"),e=i("0IaG"),n=i("Xksa"),c=i("fXoL"),r=i("am6X"),l=i("dNgK"),d=i("bTqV");let s=(()=>{class t{constructor(t,o,i,a){this.dialogRef=t,this.contacto=o,this.servicioContacto=i,this.snackBar=a}ngOnInit(){this.ENTIDAD=n.d}onNoClick(){this.dialogRef.close({ok:!1})}confirmDelete(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioContacto.deleteContacto(this.contacto.id_contacto).toPromise();t.ok?(this.snackBar.open(t.message,n.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,n.a,{duration:5e3})}))}}return t.\u0275fac=function(o){return new(o||t)(c.Mb(e.f),c.Mb(e.a),c.Mb(r.a),c.Mb(l.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-delete-contacto"]],decls:13,vars:5,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteEntidad",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(c.Sb(0,"div",0),c.Sb(1,"h3",1),c.Cc(2),c.Rb(),c.Sb(3,"div",2),c.Cc(4),c.Nb(5,"p"),c.Cc(6),c.Nb(7,"p"),c.Rb(),c.Sb(8,"div",3),c.Sb(9,"button",4),c.Zb("click",(function(){return o.confirmDelete()})),c.Cc(10),c.Rb(),c.Sb(11,"button",5),c.Zb("click",(function(){return o.onNoClick()})),c.Cc(12,"Cancelar"),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.Bb(2),c.Ec("\xbfSeguro que deseas eliminar este ",o.ENTIDAD,"?"),c.Bb(2),c.Ec(" Id: ",o.contacto.id_contacto," "),c.Bb(2),c.Fc(" ",o.ENTIDAD,": ",o.contacto.nombre_completo," "),c.Bb(4),c.Ec("Eliminar ",o.ENTIDAD,""))},directives:[e.g,e.d,e.c,d.a],styles:[""]}),t})()},UtqR:function(t,o,i){"use strict";i.d(o,"a",(function(){return k}));var a=i("mrSG"),e=i("3Pt+"),n=i("0IaG"),c=i("Xksa"),r=i("fXoL"),l=i("dNgK"),d=i("am6X"),s=i("xMg3"),m=i("QzrE"),b=i("DrcZ"),f=i("y0zT"),u=i("kmnG"),p=i("qFsG"),h=i("ofXK"),g=i("d3UM"),v=i("FKr1"),S=i("bTqV");function C(t,o){1&t&&(r.Sb(0,"small",26),r.Cc(1,"Introduzca una direcci\xf3n de correo electr\xf3nico v\xe1lida"),r.Rb())}function R(t,o){if(1&t&&(r.Sb(0,"mat-option",27),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_zona),r.Bb(1),r.Ec(" ",t.zona," ")}}function N(t,o){if(1&t&&(r.Sb(0,"mat-option",27),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_entidad),r.Bb(1),r.Ec(" ",t.entidad," ")}}function _(t,o){if(1&t&&(r.Sb(0,"mat-option",27),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_familia),r.Bb(1),r.Ec(" ",t.familia," ")}}function w(t,o){if(1&t&&(r.Sb(0,"mat-option",27),r.Cc(1),r.Rb()),2&t){const t=o.$implicit;r.jc("value",t.id_provincia),r.Bb(1),r.Ec(" ",t.provincia," ")}}let k=(()=>{class t{constructor(t,o,i,a,e,n,c,r){this.dialogRef=t,this.snackBar=o,this.servicioContactos=i,this.contacto=a,this.servicioProvincia=e,this.servicioZona=n,this.servicioEntidad=c,this.servicioFamilia=r}ngOnInit(){this.setForm()}setForm(){this.ENTIDAD=c.d,this.contactoForm=new e.h({id_contacto:new e.e(this.contacto.id_contacto,e.v.required),nombre:new e.e(this.contacto.nombre),apellidos:new e.e(this.contacto.apellidos,e.v.required),email:new e.e(this.contacto.email,[e.v.required,e.v.email]),corporativo_largo:new e.e(this.contacto.corporativo_largo),corporativo_corto:new e.e(this.contacto.corporativo_corto),telefono_personal:new e.e(this.contacto.telefono_personal),id_zona:new e.e(this.contacto.id_zona),id_entidad:new e.e(this.contacto.id_entidad,e.v.required),cargo:new e.e(this.contacto.cargo),id_familia:new e.e(this.contacto.id_familia),direccion:new e.e(this.contacto.direccion),cp:new e.e(this.contacto.cp),localidad:new e.e(this.contacto.localidad),id_provincia:new e.e(this.contacto.id_provincia),observaciones:new e.e(this.contacto.observaciones)}),this.getProvincias(),this.getZonas(),this.getEntidades(),this.getFamilias()}confirmEdit(){return Object(a.a)(this,void 0,void 0,(function*(){if(console.log(this.contacto),this.contactoForm.valid){const t=this.contactoForm.value,o=yield this.servicioContactos.editContacto(t).toPromise();o.ok?(this.snackBar.open(o.message,c.a,{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(c.m,c.a,{duration:5e3})}else this.snackBar.open(c.m,c.a,{duration:5e3})}))}getProvincias(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioProvincia.getAllProvincias().toPromise();t.ok&&(this.provincias=t.data)}))}getZonas(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioZona.getAllZonas().toPromise();t.ok&&(this.zonas=t.data)}))}getEntidades(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioEntidad.getAllEntidades().toPromise();t.ok&&(this.entidades=t.data)}))}getFamilias(){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.servicioFamilia.getAllFamilias().toPromise();t.ok&&(this.familias=t.data)}))}onNoClick(){this.dialogRef.close({ok:!1})}get email(){return this.contactoForm.get("email")}}return t.\u0275fac=function(o){return new(o||t)(r.Mb(n.f),r.Mb(l.a),r.Mb(d.a),r.Mb(n.a),r.Mb(s.a),r.Mb(m.a),r.Mb(b.a),r.Mb(f.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-edit-contacto"]],decls:75,vars:8,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Nombre","formControlName","nombre","name","nombre","maxlength","100"],["matInput","","placeholder","Apellidos","formControlName","apellidos","name","apellidos","maxlength","100","required",""],["matInput","","placeholder","Email","formControlName","email","name","email","maxlength","100","required",""],["class","text-danger",4,"ngIf"],["matInput","","placeholder","Corporativo Largo","formControlName","corporativo_largo","name","corporativo_largo","maxlength","100"],["matInput","","placeholder","Corporativo Corto","formControlName","corporativo_corto","name","corporativo_corto","maxlength","100"],["matInput","","placeholder","Telefono Personal","formControlName","telefono_personal","name","telefono_personal","maxlength","100"],["formControlName","id_zona"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","id_entidad","required",""],["matInput","","placeholder","Cargo","formControlName","cargo","name","cargo","maxlength","100"],["formControlName","id_familia"],["matInput","","placeholder","Direcci\xf3n","formControlName","direccion","name","direccion","maxlength","100"],["matInput","","placeholder","CP","formControlName","cp","name","cp","maxlength","100"],["matInput","","placeholder","Localidad","formControlName","localidad","name","localidad","maxlength","100"],["formControlName","id_provincia"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","Observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"],[1,"text-danger"],[3,"value"]],template:function(t,o){1&t&&(r.Sb(0,"div",0),r.Sb(1,"h3",1),r.Cc(2),r.Rb(),r.Sb(3,"form",2),r.Sb(4,"div",3),r.Sb(5,"mat-form-field",4),r.Nb(6,"input",5),r.Rb(),r.Rb(),r.Sb(7,"div",3),r.Sb(8,"mat-form-field",4),r.Nb(9,"input",6),r.Rb(),r.Rb(),r.Sb(10,"div",3),r.Sb(11,"mat-form-field",4),r.Nb(12,"input",7),r.Bc(13,C,2,0,"small",8),r.Rb(),r.Rb(),r.Sb(14,"div",3),r.Sb(15,"mat-form-field",4),r.Nb(16,"input",9),r.Rb(),r.Rb(),r.Sb(17,"div",3),r.Sb(18,"mat-form-field",4),r.Nb(19,"input",10),r.Rb(),r.Rb(),r.Sb(20,"div",3),r.Sb(21,"mat-form-field",4),r.Nb(22,"input",11),r.Rb(),r.Rb(),r.Sb(23,"div",3),r.Sb(24,"mat-form-field"),r.Sb(25,"mat-label"),r.Cc(26,"Zona"),r.Rb(),r.Sb(27,"mat-select",12),r.Sb(28,"mat-option",13),r.Cc(29,"Sin zona"),r.Rb(),r.Bc(30,R,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(31,"div",3),r.Sb(32,"mat-form-field"),r.Sb(33,"mat-label"),r.Cc(34,"Entidad"),r.Rb(),r.Sb(35,"mat-select",15),r.Sb(36,"mat-option",13),r.Cc(37,"Sin entidad"),r.Rb(),r.Bc(38,N,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(39,"div",3),r.Sb(40,"mat-form-field",4),r.Nb(41,"input",16),r.Rb(),r.Rb(),r.Sb(42,"div",3),r.Sb(43,"mat-form-field"),r.Sb(44,"mat-label"),r.Cc(45,"Familia Profesional"),r.Rb(),r.Sb(46,"mat-select",17),r.Sb(47,"mat-option",13),r.Cc(48,"Sin familia profesional"),r.Rb(),r.Bc(49,_,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(50,"div",3),r.Sb(51,"mat-form-field",4),r.Nb(52,"input",18),r.Rb(),r.Rb(),r.Sb(53,"div",3),r.Sb(54,"mat-form-field",4),r.Nb(55,"input",19),r.Rb(),r.Rb(),r.Sb(56,"div",3),r.Sb(57,"mat-form-field",4),r.Nb(58,"input",20),r.Rb(),r.Rb(),r.Sb(59,"div",3),r.Sb(60,"mat-form-field"),r.Sb(61,"mat-label"),r.Cc(62,"Provincia"),r.Rb(),r.Sb(63,"mat-select",21),r.Sb(64,"mat-option",13),r.Cc(65,"Sin provincia"),r.Rb(),r.Bc(66,w,2,2,"mat-option",14),r.Rb(),r.Rb(),r.Rb(),r.Sb(67,"div",3),r.Sb(68,"mat-form-field",4),r.Nb(69,"textarea",22),r.Rb(),r.Rb(),r.Sb(70,"div",23),r.Sb(71,"button",24),r.Zb("click",(function(){return o.confirmEdit()})),r.Cc(72,"Guardar"),r.Rb(),r.Sb(73,"button",25),r.Zb("click",(function(){return o.onNoClick()})),r.Cc(74,"Cancelar"),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&t&&(r.Bb(2),r.Ec("Editar ",o.ENTIDAD,""),r.Bb(1),r.jc("formGroup",o.contactoForm),r.Bb(10),r.jc("ngIf",null==o.email.errors?null:o.email.errors.email),r.Bb(17),r.jc("ngForOf",o.zonas),r.Bb(8),r.jc("ngForOf",o.entidades),r.Bb(11),r.jc("ngForOf",o.familias),r.Bb(17),r.jc("ngForOf",o.provincias),r.Bb(5),r.jc("disabled",!o.contactoForm.valid))},directives:[n.g,e.w,e.p,e.i,u.c,p.b,e.c,e.o,e.g,e.k,e.u,h.l,u.f,g.a,v.n,h.k,n.c,S.a],styles:[".container[_ngcontent-%COMP%]{margin:0 auto;min-width:30em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}.radioButton[_ngcontent-%COMP%]{text-align:left;margin-bottom:1em;padding-left:.2em}"]}),t})()},sHgW:function(t,o,i){"use strict";i.r(o),i.d(o,"ContactosEntidadModule",(function(){return z}));var a=i("ofXK"),e=i("tyNb"),n=i("mrSG"),c=i("M9IT"),r=i("+0xr"),l=i("Dh3D"),d=i("3Pt+"),s=i("EL9k"),m=i("UtqR"),b=i("LG+F"),f=i("fXoL"),u=i("0IaG"),p=i("am6X"),h=i("rDax"),g=i("DrcZ"),v=i("qFsG"),S=i("bTqV"),C=i("NFeN");function R(t,o){if(1&t&&(f.Sb(0,"th",16),f.Nb(1,"input",17),f.Nb(2,"span",18),f.Rb()),2&t){const t=f.dc();f.Bb(1),f.jc("formControl",t.idContactoFilter)}}function N(t,o){if(1&t&&(f.Sb(0,"td",19),f.Cc(1),f.Rb()),2&t){const t=o.$implicit;f.Bb(1),f.Ec(" ",t.id_contacto," ")}}function _(t,o){if(1&t&&(f.Sb(0,"th",16),f.Nb(1,"input",20),f.Nb(2,"span",18),f.Rb()),2&t){const t=f.dc();f.Bb(1),f.jc("formControl",t.nombreCompletoFilter)}}function w(t,o){if(1&t&&(f.Sb(0,"td",19),f.Cc(1),f.Rb()),2&t){const t=o.$implicit;f.Bb(1),f.Ec(" ",t.nombre_completo,"")}}function k(t,o){if(1&t&&(f.Sb(0,"th",16),f.Nb(1,"input",21),f.Nb(2,"span",18),f.Rb()),2&t){const t=f.dc();f.Bb(1),f.jc("formControl",t.cargoFilter)}}function B(t,o){if(1&t&&(f.Sb(0,"td",19),f.Cc(1),f.Rb()),2&t){const t=o.$implicit;f.Bb(1),f.Ec(" ",t.cargo,"")}}function F(t,o){if(1&t&&(f.Sb(0,"th",16),f.Nb(1,"input",22),f.Nb(2,"span",18),f.Rb()),2&t){const t=f.dc();f.Bb(1),f.jc("formControl",t.familiaFilter)}}function O(t,o){if(1&t&&(f.Sb(0,"td",19),f.Cc(1),f.Rb()),2&t){const t=o.$implicit;f.Bb(1),f.Ec(" ",t.familia,"")}}function E(t,o){if(1&t){const t=f.Tb();f.Sb(0,"th",16),f.Sb(1,"button",23),f.Zb("click",(function(){f.tc(t);const o=f.dc();return o.addContacto(o.entidad.id_entidad)})),f.Sb(2,"mat-icon"),f.Cc(3," add_circle "),f.Rb(),f.Rb(),f.Rb()}}function P(t,o){if(1&t){const t=f.Tb();f.Sb(0,"td",19),f.Sb(1,"button",23),f.Zb("click",(function(){f.tc(t);const i=o.$implicit;return f.dc().editContacto(i)})),f.Sb(2,"mat-icon"),f.Cc(3," mode_edit "),f.Rb(),f.Rb(),f.Sb(4,"button",23),f.Zb("click",(function(){f.tc(t);const i=o.$implicit;return f.dc().deleteContacto(i)})),f.Sb(5,"mat-icon"),f.Cc(6," delete "),f.Rb(),f.Rb(),f.Rb()}}function I(t,o){1&t&&f.Nb(0,"tr",24)}function j(t,o){1&t&&f.Nb(0,"tr",25)}const x=function(){return[5,10,25]},y=[{path:"",component:(()=>{class t{constructor(t,o,i,a){this.dialog=t,this.contactosService=o,this.overlay=i,this.entidadService=a,this.dataSource=new r.k,this.idContactoFilter=new d.e,this.nombreCompletoFilter=new d.e,this.cargoFilter=new d.e,this.familiaFilter=new d.e,this.filterValues={id_contacto:"",nombre_completo:"",cargo:"",familia:""}}ngOnInit(){this.entidad=this.entidadService.entidad,this.getContactosEntidad(this.entidad)}getContactosEntidad(t){return Object(n.a)(this,void 0,void 0,(function*(){const o=yield this.contactosService.getContactosEntidad(t.id_entidad).toPromise();this.permises=o.permises,o.ok&&(this.contactosService.contacto=o.data,this.displayedColumns=["nombre_completo","cargo","familia","actions"],this.dataSource.data=this.contactosService.contacto,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addContacto(t){return Object(n.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(s.a,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),i=yield o.afterClosed().toPromise();i&&i.ok&&this.ngOnInit()}))}editContacto(t){return Object(n.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(m.a,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),i=yield o.afterClosed().toPromise();i&&i.ok&&this.ngOnInit()}))}deleteContacto(t){return Object(n.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(b.a,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),i=yield o.afterClosed().toPromise();i&&i.ok&&this.ngOnInit()}))}createFilter(){return(t,o)=>{const i=JSON.parse(o);return-1!==t.id_contacto.toString().indexOf(i.id_contacto)&&-1!==t.nombre_completo.toLowerCase().indexOf(i.nombre_completo.toLowerCase())&&-1!==t.cargo.toLowerCase().indexOf(i.cargo.toLowerCase())&&-1!==t.familia.toLowerCase().indexOf(i.familia.toLowerCase())}}onChanges(){this.idContactoFilter.valueChanges.subscribe(t=>{this.filterValues.id_contacto=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.nombreCompletoFilter.valueChanges.subscribe(t=>{this.filterValues.nombre_completo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.cargoFilter.valueChanges.subscribe(t=>{this.filterValues.cargo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.familiaFilter.valueChanges.subscribe(t=>{this.filterValues.familia=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}}return t.\u0275fac=function(o){return new(o||t)(f.Mb(u.b),f.Mb(p.a),f.Mb(h.c),f.Mb(g.a))},t.\u0275cmp=f.Gb({type:t,selectors:[["app-contactos-entidad"]],viewQuery:function(t,o){var i;1&t&&(f.xc(c.a,!0),f.xc(l.a,!0)),2&t&&(f.pc(i=f.ac())&&(o.paginator=i.first),f.pc(i=f.ac())&&(o.sort=i.first))},decls:25,vars:7,consts:[[1,"container"],["mat-dialog-title",""],[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_contacto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre_completo"],["matColumnDef","cargo"],["matColumnDef","familia"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","Id",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Nombre",3,"formControl"],["matInput","","placeholder","Cargo",3,"formControl"],["matInput","","placeholder","FP",3,"formControl"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(f.Sb(0,"div",0),f.Sb(1,"h3",1),f.Cc(2),f.Rb(),f.Sb(3,"div",2),f.Sb(4,"div",3),f.Sb(5,"table",4),f.Qb(6,5),f.Bc(7,R,3,1,"th",6),f.Bc(8,N,2,1,"td",7),f.Pb(),f.Qb(9,8),f.Bc(10,_,3,1,"th",6),f.Bc(11,w,2,1,"td",7),f.Pb(),f.Qb(12,9),f.Bc(13,k,3,1,"th",6),f.Bc(14,B,2,1,"td",7),f.Pb(),f.Qb(15,10),f.Bc(16,F,3,1,"th",6),f.Bc(17,O,2,1,"td",7),f.Pb(),f.Qb(18,11),f.Bc(19,E,4,0,"th",6),f.Bc(20,P,7,0,"td",7),f.Pb(),f.Bc(21,I,1,0,"tr",12),f.Bc(22,j,1,0,"tr",13),f.Rb(),f.Rb(),f.Nb(23,"mat-paginator",14,15),f.Rb(),f.Rb()),2&t&&(f.Bb(2),f.Ec("Contactos de ",o.entidad.entidad,""),f.Bb(3),f.jc("dataSource",o.dataSource),f.Bb(16),f.jc("matHeaderRowDef",o.displayedColumns),f.Bb(1),f.jc("matRowDefColumns",o.displayedColumns),f.Bb(1),f.jc("pageSize",10)("pageSizeOptions",f.mc(6,x)))},directives:[u.g,r.j,l.a,r.c,r.e,r.b,r.g,r.i,c.a,r.d,v.b,d.c,d.o,d.f,l.b,r.a,S.a,C.a,r.f,r.h],styles:[".container[_ngcontent-%COMP%]{padding-bottom:10em}.mat-dialog-content[_ngcontent-%COMP%]{margin-left:5%}.mat-dialog-title[_ngcontent-%COMP%]{text-align:center}.mat-dialog-actions[_ngcontent-%COMP%]{display:block;text-align:center}.mat-column-cargo[_ngcontent-%COMP%], .mat-column-familia[_ngcontent-%COMP%], .mat-column-nombre_completo[_ngcontent-%COMP%]{width:30%!important;padding-right:1em!important;word-wrap:break-word!important}.mat-column-actions[_ngcontent-%COMP%]{width:2em!important;padding-right:0!important;word-wrap:break-word!important}"]}),t})()},{path:"add-contacto",loadChildren:()=>i.e(14).then(i.bind(null,"AaId")).then(t=>t.AddContactoModule)},{path:"edit-contacto",loadChildren:()=>i.e(16).then(i.bind(null,"rS0u")).then(t=>t.EditContactoModule)},{path:"delete-contacto",loadChildren:()=>i.e(15).then(i.bind(null,"KsEN")).then(t=>t.DeleteContactoModule)}];let M=(()=>{class t{}return t.\u0275mod=f.Kb({type:t}),t.\u0275inj=f.Jb({factory:function(o){return new(o||t)},imports:[[e.f.forChild(y)],e.f]}),t})();var D=i("ah4G");let z=(()=>{class t{}return t.\u0275mod=f.Kb({type:t}),t.\u0275inj=f.Jb({factory:function(o){return new(o||t)},imports:[[a.c,M,D.a]]}),t})()}}]);