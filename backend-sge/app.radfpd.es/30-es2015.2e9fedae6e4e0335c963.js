(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"12xl":function(o,t,i){"use strict";i.r(t),i.d(t,"OpcionesModule",(function(){return Z}));var e=i("ofXK"),n=i("tyNb"),c=i("mrSG"),a=i("M9IT"),r=i("Dh3D"),s=i("+0xr"),d=i("3Pt+"),l=i("Xksa"),b=i("fXoL"),p=i("0IaG"),m=i("dNgK"),u=i("kxEN"),f=i("kmnG"),h=i("qFsG"),g=i("bTqV");let v=(()=>{class o{constructor(o,t,i){this.dialogRef=o,this.snackBar=t,this.servicioOpciones=i}ngOnInit(){this.opcionForm=new d.h({opcion:new d.e(null,d.v.required),accion:new d.e(null,d.v.required),texto_tooltip:new d.e(null),observaciones:new d.e(null)})}confirmAdd(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.opcionForm.valid){const o=this.opcionForm.value,t=yield this.servicioOpciones.addOpcion(o).toPromise();t.ok?(this.snackBar.open(t.message,l.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,l.a,{duration:5e3})}else this.snackBar.open(l.n,l.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return o.\u0275fac=function(t){return new(t||o)(b.Mb(p.f),b.Mb(m.a),b.Mb(u.a))},o.\u0275cmp=b.Gb({type:o,selectors:[["app-add-opcion"]],decls:21,vars:2,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Opci\xf3n","formControlName","opcion","name","opcion","maxlength","100","required",""],["matInput","","placeholder","Acci\xf3n","formControlName","accion","name","accion","maxlength","100","required",""],["matInput","","placeholder","Tooltip men\xfa","formControlName","texto_tooltip","name","texto_tooltip","maxlength","255"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(o,t){1&o&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2,"A\xf1adir opci\xf3n"),b.Rb(),b.Sb(3,"form",2),b.Sb(4,"div",3),b.Sb(5,"mat-form-field",4),b.Nb(6,"input",5),b.Rb(),b.Rb(),b.Sb(7,"div",3),b.Sb(8,"mat-form-field",4),b.Nb(9,"input",6),b.Rb(),b.Rb(),b.Sb(10,"div",3),b.Sb(11,"mat-form-field",4),b.Nb(12,"input",7),b.Rb(),b.Rb(),b.Sb(13,"div",3),b.Sb(14,"mat-form-field",4),b.Nb(15,"textarea",8),b.Rb(),b.Rb(),b.Sb(16,"div",9),b.Sb(17,"button",10),b.Zb("click",(function(){return t.confirmAdd()})),b.Cc(18,"Guardar"),b.Rb(),b.Sb(19,"button",11),b.Zb("click",(function(){return t.onNoClick()})),b.Cc(20,"Cancelar"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&o&&(b.Bb(3),b.jc("formGroup",t.opcionForm),b.Bb(14),b.jc("disabled",!t.opcionForm.valid))},directives:[p.g,d.w,d.p,d.i,f.c,h.b,d.c,d.o,d.g,d.k,d.u,p.c,g.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),o})(),S=(()=>{class o{constructor(o,t,i,e){this.dialogRef=o,this.snackBar=t,this.servicioOpciones=i,this.opcion=e}ngOnInit(){this.opcionForm=new d.h({id_opcion_menu:new d.e(this.opcion.id_opcion_menu,d.v.required),opcion:new d.e(this.opcion.opcion,d.v.required),accion:new d.e(this.opcion.accion,d.v.required),texto_tooltip:new d.e(this.opcion.texto_tooltip),observaciones:new d.e(this.opcion.observaciones)})}confirmAdd(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.opcionForm.valid){const o=this.opcionForm.value,t=yield this.servicioOpciones.editOpcion(o).toPromise();t.ok?(this.snackBar.open(t.message,l.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,l.a,{duration:5e3})}else this.snackBar.open(l.n,l.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return o.\u0275fac=function(t){return new(t||o)(b.Mb(p.f),b.Mb(m.a),b.Mb(u.a),b.Mb(p.a))},o.\u0275cmp=b.Gb({type:o,selectors:[["app-edit-opcion"]],decls:21,vars:2,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Opci\xf3n","formControlName","opcion","name","opcion","maxlength","100","required",""],["matInput","","placeholder","Acci\xf3n","formControlName","accion","name","accion","maxlength","100","required",""],["matInput","","placeholder","Tooltip men\xfa","formControlName","texto_tooltip","name","texto_tooltip","maxlength","255"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(o,t){1&o&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2,"Editar opci\xf3n"),b.Rb(),b.Sb(3,"form",2),b.Sb(4,"div",3),b.Sb(5,"mat-form-field",4),b.Nb(6,"input",5),b.Rb(),b.Rb(),b.Sb(7,"div",3),b.Sb(8,"mat-form-field",4),b.Nb(9,"input",6),b.Rb(),b.Rb(),b.Sb(10,"div",3),b.Sb(11,"mat-form-field",4),b.Nb(12,"input",7),b.Rb(),b.Rb(),b.Sb(13,"div",3),b.Sb(14,"mat-form-field",4),b.Nb(15,"textarea",8),b.Rb(),b.Rb(),b.Sb(16,"div",9),b.Sb(17,"button",10),b.Zb("click",(function(){return t.confirmAdd()})),b.Cc(18,"Guardar"),b.Rb(),b.Sb(19,"button",11),b.Zb("click",(function(){return t.onNoClick()})),b.Cc(20,"Cancelar"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&o&&(b.Bb(3),b.jc("formGroup",t.opcionForm),b.Bb(14),b.jc("disabled",!t.opcionForm.valid))},directives:[p.g,d.w,d.p,d.i,f.c,h.b,d.c,d.o,d.g,d.k,d.u,p.c,g.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),o})(),C=(()=>{class o{constructor(o,t,i,e){this.dialogRef=o,this.opcion=t,this.servicioOpciones=i,this.snackBar=e}ngOnInit(){}onNoClick(){this.dialogRef.close({ok:!1})}confirmDelete(){return Object(c.a)(this,void 0,void 0,(function*(){const o=yield this.servicioOpciones.deleteOpcion(this.opcion.id_opcion_menu).toPromise();o.ok?(this.snackBar.open(o.message,l.a,{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(o.message,l.a,{duration:5e3})}))}}return o.\u0275fac=function(t){return new(t||o)(b.Mb(p.f),b.Mb(p.a),b.Mb(u.a),b.Mb(m.a))},o.\u0275cmp=b.Gb({type:o,selectors:[["app-delete-opcion"]],decls:13,vars:2,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteOpcion",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(o,t){1&o&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2,"\xbfSeguro que deseas eliminar esta opci\xf3n?"),b.Rb(),b.Sb(3,"div",2),b.Cc(4),b.Nb(5,"p"),b.Cc(6),b.Nb(7,"p"),b.Rb(),b.Sb(8,"div",3),b.Sb(9,"button",4),b.Zb("click",(function(){return t.confirmDelete()})),b.Cc(10,"Eliminar Opci\xf3n"),b.Rb(),b.Sb(11,"button",5),b.Zb("click",(function(){return t.onNoClick()})),b.Cc(12,"Cancelar"),b.Rb(),b.Rb(),b.Rb()),2&o&&(b.Bb(4),b.Ec(" Id: ",t.opcion.id_opcion_menu," "),b.Bb(2),b.Ec(" Opci\xf3n: ",t.opcion.opcion," "))},directives:[p.g,p.d,p.c,g.a],styles:["div.mat-dialog-actions[_ngcontent-%COMP%]{width:15em;margin:auto}"]}),o})();var R=i("rDax"),k=i("NFeN");function O(o,t){if(1&o&&(b.Sb(0,"th",12),b.Nb(1,"input",13),b.Nb(2,"span",14),b.Rb()),2&o){const o=b.dc();b.Bb(1),b.jc("formControl",o.idFilter)}}function w(o,t){if(1&o&&(b.Sb(0,"td",15),b.Cc(1),b.Rb()),2&o){const o=t.$implicit;b.Bb(1),b.Ec(" ",o.id_opcion_menu," ")}}function N(o,t){if(1&o&&(b.Sb(0,"th",12),b.Nb(1,"input",16),b.Nb(2,"span",14),b.Rb()),2&o){const o=b.dc();b.Bb(1),b.jc("formControl",o.opcionFilter)}}function B(o,t){if(1&o&&(b.Sb(0,"td",15),b.Cc(1),b.Rb()),2&o){const o=t.$implicit;b.Bb(1),b.Ec(" ",o.opcion," ")}}function _(o,t){if(1&o){const o=b.Tb();b.Sb(0,"button",18),b.Zb("click",(function(){return b.tc(o),b.dc(2).addOpcion()})),b.Sb(1,"mat-icon"),b.Cc(2," add_circle "),b.Rb(),b.Rb()}}function y(o,t){if(1&o&&(b.Sb(0,"th",12),b.Bc(1,_,3,0,"button",17),b.Rb()),2&o){const o=b.dc();b.Bb(1),b.jc("ngIf",o.permises.add)}}function x(o,t){if(1&o){const o=b.Tb();b.Sb(0,"button",18),b.Zb("click",(function(){b.tc(o);const t=b.dc().$implicit;return b.dc().editOpcion(t)})),b.Sb(1,"mat-icon"),b.Cc(2," mode_edit "),b.Rb(),b.Rb()}}function j(o,t){if(1&o){const o=b.Tb();b.Sb(0,"button",18),b.Zb("click",(function(){b.tc(o);const t=b.dc().$implicit;return b.dc().deleteOpcion(t)})),b.Sb(1,"mat-icon"),b.Cc(2," delete "),b.Rb(),b.Rb()}}function M(o,t){if(1&o&&(b.Sb(0,"td",15),b.Bc(1,x,3,0,"button",17),b.Bc(2,j,3,0,"button",17),b.Rb()),2&o){const o=b.dc();b.Bb(1),b.jc("ngIf",o.permises.edit),b.Bb(1),b.jc("ngIf",o.permises.delete)}}function I(o,t){1&o&&b.Nb(0,"tr",19)}function F(o,t){1&o&&b.Nb(0,"tr",20)}const P=function(){return[5,10,25]},D=[{path:"",component:(()=>{class o{constructor(o,t,i){this.dialog=o,this.opcionesService=t,this.overlay=i,this.dataSource=new s.k,this.idFilter=new d.e,this.opcionFilter=new d.e,this.filterValues={id_opcion_menu:"",opcion:""}}ngOnInit(){this.getOpciones()}getOpciones(){return Object(c.a)(this,void 0,void 0,(function*(){const o=yield this.opcionesService.getAllOpciones().toPromise();this.permises=o.permises,o.ok&&(this.opcionesService.opciones=o.data,this.displayedColumns=["id_opcion_menu","opcion","actions"],this.dataSource.data=this.opcionesService.opciones,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addOpcion(){return Object(c.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(v,{scrollStrategy:this.overlay.scrollStrategies.noop()}),t=yield o.afterClosed().toPromise();t&&t.ok&&(this.opcionesService.opciones.push(t.data),this.dataSource.data=this.opcionesService.opciones)}))}editOpcion(o){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(S,{data:o,scrollStrategy:this.overlay.scrollStrategies.noop()}),i=yield t.afterClosed().toPromise();i&&i.ok&&(this.opcionesService.updateOpcion(i.data),this.dataSource.data=this.opcionesService.opciones)}))}deleteOpcion(o){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(C,{data:o,scrollStrategy:this.overlay.scrollStrategies.noop()}),i=yield t.afterClosed().toPromise();i&&i.ok&&(this.opcionesService.removeOpcion(i.data),this.dataSource.data=this.opcionesService.opciones)}))}createFilter(){return(o,t)=>{const i=JSON.parse(t);return-1!==o.id_opcion_menu.toString().indexOf(i.id_opcion_menu)&&-1!==o.opcion.toLowerCase().indexOf(i.opcion.toLowerCase())}}onChanges(){this.idFilter.valueChanges.subscribe(o=>{this.filterValues.id_opcion_menu=o,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.opcionFilter.valueChanges.subscribe(o=>{this.filterValues.opcion=o,this.dataSource.filter=JSON.stringify(this.filterValues)})}}return o.\u0275fac=function(t){return new(t||o)(b.Mb(p.b),b.Mb(u.a),b.Mb(R.c))},o.\u0275cmp=b.Gb({type:o,selectors:[["app-opciones"]],viewQuery:function(o,t){var i;1&o&&(b.xc(a.a,!0),b.xc(r.a,!0)),2&o&&(b.pc(i=b.ac())&&(t.paginator=i.first),b.pc(i=b.ac())&&(t.sort=i.first))},decls:16,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_opcion_menu"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","opcion"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","ID",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Opcion",3,"formControl"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,t){1&o&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"table",2),b.Qb(3,3),b.Bc(4,O,3,1,"th",4),b.Bc(5,w,2,1,"td",5),b.Pb(),b.Qb(6,6),b.Bc(7,N,3,1,"th",4),b.Bc(8,B,2,1,"td",5),b.Pb(),b.Qb(9,7),b.Bc(10,y,2,1,"th",4),b.Bc(11,M,3,2,"td",5),b.Pb(),b.Bc(12,I,1,0,"tr",8),b.Bc(13,F,1,0,"tr",9),b.Rb(),b.Rb(),b.Nb(14,"mat-paginator",10,11),b.Rb()),2&o&&(b.Bb(2),b.jc("dataSource",t.dataSource),b.Bb(10),b.jc("matHeaderRowDef",t.displayedColumns),b.Bb(1),b.jc("matRowDefColumns",t.displayedColumns),b.Bb(1),b.jc("pageSize",10)("pageSizeOptions",b.mc(5,P)))},directives:[s.j,r.a,s.c,s.e,s.b,s.g,s.i,a.a,s.d,h.b,d.c,d.o,d.f,r.b,s.a,e.l,g.a,k.a,s.f,s.h],styles:[""]}),o})()}];let G=(()=>{class o{}return o.\u0275mod=b.Kb({type:o}),o.\u0275inj=b.Jb({factory:function(t){return new(t||o)},imports:[[n.f.forChild(D)],n.f]}),o})();var q=i("ah4G");let Z=(()=>{class o{}return o.\u0275mod=b.Kb({type:o}),o.\u0275inj=b.Jb({factory:function(t){return new(t||o)},imports:[[e.c,G,q.a]]}),o})()}}]);