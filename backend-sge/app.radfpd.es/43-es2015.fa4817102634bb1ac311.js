(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{iIxd:function(t,o,e){"use strict";e.r(o),e.d(o,"ZonasModule",(function(){return M}));var a=e("ofXK"),n=e("tyNb"),i=e("mrSG"),c=e("M9IT"),r=e("+0xr"),s=e("Dh3D"),l=e("3Pt+"),d=e("Xksa"),b=e("fXoL"),u=e("0IaG"),m=e("dNgK"),f=e("QzrE"),h=e("kmnG"),p=e("qFsG"),g=e("bTqV");let v=(()=>{class t{constructor(t,o,e){this.dialogRef=t,this.snackBar=o,this.servicioZonas=e}ngOnInit(){this.zonaForm=new l.h({zona:new l.e(null,l.v.required),observaciones:new l.e(null)}),this.ENTIDAD=d.l}confirmAdd(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.zonaForm.valid){const t=this.zonaForm.value,o=yield this.servicioZonas.addZona(t).toPromise();o.ok?(this.snackBar.open(o.message,d.a,{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(o.message,d.a,{duration:5e3})}else this.snackBar.open(d.n,d.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(o){return new(o||t)(b.Mb(u.f),b.Mb(m.a),b.Mb(f.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-add-zona"]],decls:15,vars:4,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","formControlName","zona","name","zona","maxlength","100","required","",3,"placeholder"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2),b.Rb(),b.Sb(3,"form",2),b.Sb(4,"div",3),b.Sb(5,"mat-form-field",4),b.Nb(6,"input",5),b.Rb(),b.Rb(),b.Sb(7,"div",3),b.Sb(8,"mat-form-field",4),b.Nb(9,"textarea",6),b.Rb(),b.Rb(),b.Sb(10,"div",7),b.Sb(11,"button",8),b.Zb("click",(function(){return o.confirmAdd()})),b.Cc(12,"Guardar"),b.Rb(),b.Sb(13,"button",9),b.Zb("click",(function(){return o.onNoClick()})),b.Cc(14,"Cancelar"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(2),b.Ec("A\xf1adir ",o.ENTIDAD,""),b.Bb(1),b.jc("formGroup",o.zonaForm),b.Bb(3),b.kc("placeholder",o.ENTIDAD),b.Bb(5),b.jc("disabled",!o.zonaForm.valid))},directives:[u.g,l.w,l.p,l.i,h.c,p.b,l.c,l.o,l.g,l.k,l.u,u.c,g.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),t})(),S=(()=>{class t{constructor(t,o,e,a){this.dialogRef=t,this.snackBar=o,this.servicioZonas=e,this.zona=a}ngOnInit(){this.ENTIDAD=d.l,this.zonaForm=new l.h({id_zona:new l.e(this.zona.id_zona,l.v.required),zona:new l.e(this.zona.zona,l.v.required),observaciones:new l.e(this.zona.observaciones)})}confirmEdit(){return Object(i.a)(this,void 0,void 0,(function*(){if(this.zonaForm.valid){const t=this.zonaForm.value,o=yield this.servicioZonas.editZona(t).toPromise();o.ok?(this.snackBar.open(o.message,d.a,{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(d.m,d.a,{duration:5e3})}else this.snackBar.open(d.m,d.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(o){return new(o||t)(b.Mb(u.f),b.Mb(m.a),b.Mb(f.a),b.Mb(u.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-edit-zona"]],decls:15,vars:4,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","formControlName","zona","name","zona","maxlength","100","required","",3,"placeholder"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","Observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2),b.Rb(),b.Sb(3,"form",2),b.Sb(4,"div",3),b.Sb(5,"mat-form-field",4),b.Nb(6,"input",5),b.Rb(),b.Rb(),b.Sb(7,"div",3),b.Sb(8,"mat-form-field",4),b.Nb(9,"textarea",6),b.Rb(),b.Rb(),b.Sb(10,"div",7),b.Sb(11,"button",8),b.Zb("click",(function(){return o.confirmEdit()})),b.Cc(12,"Guardar"),b.Rb(),b.Sb(13,"button",9),b.Zb("click",(function(){return o.onNoClick()})),b.Cc(14,"Cancelar"),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(2),b.Ec("Editar ",o.ENTIDAD,""),b.Bb(1),b.jc("formGroup",o.zonaForm),b.Bb(3),b.kc("placeholder",o.ENTIDAD),b.Bb(5),b.jc("disabled",!o.zonaForm.valid))},directives:[u.g,l.w,l.p,l.i,h.c,p.b,l.c,l.o,l.g,l.k,l.u,u.c,g.a],styles:[""]}),t})(),z=(()=>{class t{constructor(t,o,e,a){this.dialogRef=t,this.zona=o,this.servicioZona=e,this.snackBar=a}ngOnInit(){this.ENTIDAD=d.l}onNoClick(){this.dialogRef.close({ok:!1})}confirmDelete(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.servicioZona.deleteZona(this.zona.id_zona).toPromise();t.ok?(this.snackBar.open(t.message,d.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,d.a,{duration:5e3})}))}}return t.\u0275fac=function(o){return new(o||t)(b.Mb(u.f),b.Mb(u.a),b.Mb(f.a),b.Mb(m.a))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-delete-zona"]],decls:13,vars:5,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteZona",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h3",1),b.Cc(2),b.Rb(),b.Sb(3,"div",2),b.Cc(4),b.Nb(5,"p"),b.Cc(6),b.Nb(7,"p"),b.Rb(),b.Sb(8,"div",3),b.Sb(9,"button",4),b.Zb("click",(function(){return o.confirmDelete()})),b.Cc(10),b.Rb(),b.Sb(11,"button",5),b.Zb("click",(function(){return o.onNoClick()})),b.Cc(12,"Cancelar"),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(2),b.Ec("\xbfSeguro que deseas eliminar este ",o.ENTIDAD,"?"),b.Bb(2),b.Ec(" Id: ",o.zona.id_zona," "),b.Bb(2),b.Fc(" ",o.ENTIDAD,": ",o.zona.zona," "),b.Bb(4),b.Ec("Eliminar ",o.ENTIDAD,""))},directives:[u.g,u.d,u.c,g.a],styles:[""]}),t})();var k=e("rDax"),C=e("NFeN");function R(t,o){if(1&t&&(b.Sb(0,"th",12),b.Nb(1,"input",13),b.Nb(2,"span",14),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("formControl",t.idZonaFilter)}}function N(t,o){if(1&t&&(b.Sb(0,"td",15),b.Cc(1),b.Rb()),2&t){const t=o.$implicit;b.Bb(1),b.Ec(" ",t.id_zona," ")}}function w(t,o){if(1&t&&(b.Sb(0,"th",12),b.Nb(1,"input",16),b.Nb(2,"span",14),b.Rb()),2&t){const t=b.dc();b.Bb(1),b.jc("formControl",t.zonaFilter)}}function B(t,o){if(1&t&&(b.Sb(0,"td",15),b.Cc(1),b.Rb()),2&t){const t=o.$implicit;b.Bb(1),b.Ec(" ",t.zona," ")}}function y(t,o){if(1&t){const t=b.Tb();b.Sb(0,"th",12),b.Sb(1,"button",17),b.Zb("click",(function(){return b.tc(t),b.dc().addZona()})),b.Sb(2,"mat-icon"),b.Cc(3," add_circle "),b.Rb(),b.Rb(),b.Rb()}}function D(t,o){if(1&t){const t=b.Tb();b.Sb(0,"td",15),b.Sb(1,"button",17),b.Zb("click",(function(){b.tc(t);const e=o.$implicit;return b.dc().editZona(e)})),b.Sb(2,"mat-icon"),b.Cc(3," mode_edit "),b.Rb(),b.Rb(),b.Sb(4,"button",17),b.Zb("click",(function(){b.tc(t);const e=o.$implicit;return b.dc().deleteZona(e)})),b.Sb(5,"mat-icon"),b.Cc(6," delete "),b.Rb(),b.Rb(),b.Rb()}}function Z(t,o){1&t&&b.Nb(0,"tr",18)}function I(t,o){1&t&&b.Nb(0,"tr",19)}const O=function(){return[5,10,25]},E=[{path:"",component:(()=>{class t{constructor(t,o,e){this.dialog=t,this.zonasService=o,this.overlay=e,this.dataSource=new r.k,this.idZonaFilter=new l.e,this.zonaFilter=new l.e,this.filterValues={id_zona:"",zona:""}}ngOnInit(){this.getZonas()}getZonas(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.zonasService.getAllZonas().toPromise();this.permises=t.permises,t.ok&&(this.zonasService.zona=t.data,this.displayedColumns=["id_zona","zona","actions"],this.dataSource.data=this.zonasService.zona,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addZona(){return Object(i.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(v,{scrollStrategy:this.overlay.scrollStrategies.noop()}),o=yield t.afterClosed().toPromise();o&&o.ok&&this.ngOnInit()}))}editZona(t){return Object(i.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(S,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),e=yield o.afterClosed().toPromise();e&&e.ok&&this.ngOnInit()}))}deleteZona(t){return Object(i.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(z,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),e=yield o.afterClosed().toPromise();e&&e.ok&&this.ngOnInit()}))}createFilter(){return(t,o)=>{const e=JSON.parse(o);return-1!==t.id_zona.toString().indexOf(e.id_zona)&&-1!==t.zona.toLowerCase().indexOf(e.zona.toLowerCase())}}onChanges(){this.idZonaFilter.valueChanges.subscribe(t=>{this.filterValues.id_zona=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.zonaFilter.valueChanges.subscribe(t=>{this.filterValues.zona=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}}return t.\u0275fac=function(o){return new(o||t)(b.Mb(u.b),b.Mb(f.a),b.Mb(k.c))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-zonas"]],viewQuery:function(t,o){var e;1&t&&(b.xc(c.a,!0),b.xc(s.a,!0)),2&t&&(b.pc(e=b.ac())&&(o.paginator=e.first),b.pc(e=b.ac())&&(o.sort=e.first))},decls:16,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_zona"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","zona"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","Id",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Zona",3,"formControl"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"table",2),b.Qb(3,3),b.Bc(4,R,3,1,"th",4),b.Bc(5,N,2,1,"td",5),b.Pb(),b.Qb(6,6),b.Bc(7,w,3,1,"th",4),b.Bc(8,B,2,1,"td",5),b.Pb(),b.Qb(9,7),b.Bc(10,y,4,0,"th",4),b.Bc(11,D,7,0,"td",5),b.Pb(),b.Bc(12,Z,1,0,"tr",8),b.Bc(13,I,1,0,"tr",9),b.Rb(),b.Rb(),b.Nb(14,"mat-paginator",10,11),b.Rb()),2&t&&(b.Bb(2),b.jc("dataSource",o.dataSource),b.Bb(10),b.jc("matHeaderRowDef",o.displayedColumns),b.Bb(1),b.jc("matRowDefColumns",o.displayedColumns),b.Bb(1),b.jc("pageSize",10)("pageSizeOptions",b.mc(5,O)))},directives:[r.j,s.a,r.c,r.e,r.b,r.g,r.i,c.a,r.d,p.b,l.c,l.o,l.f,s.b,r.a,g.a,C.a,r.f,r.h],styles:[""]}),t})()}];let F=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(o){return new(o||t)},imports:[[n.f.forChild(E)],n.f]}),t})();var j=e("ah4G");let M=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(o){return new(o||t)},imports:[[a.c,F,j.a]]}),t})()}}]);