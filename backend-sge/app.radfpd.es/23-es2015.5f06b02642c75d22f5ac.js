(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{ZjLv:function(t,o,e){"use strict";e.r(o),e.d(o,"GruposModule",(function(){return V}));var i=e("ofXK"),r=e("tyNb"),n=e("mrSG"),a=e("3Pt+"),c=e("Xksa"),s=e("fXoL"),u=e("0IaG"),d=e("dNgK"),l=e("dtOv"),b=e("kmnG"),p=e("qFsG"),m=e("bTqV");let f=(()=>{class t{constructor(t,o,e){this.dialogRef=t,this.snackBar=o,this.servicioGrupos=e}ngOnInit(){this.grupoForm=new a.h({grupo:new a.e(null,a.v.required),orden:new a.e(null,a.v.required),observaciones:new a.e(null)})}confirmAdd(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.grupoForm.valid){const t=this.grupoForm.value,o=yield this.servicioGrupos.addGrupo(t).toPromise();o.ok?(this.snackBar.open("Grupo creado con \xe9xito","Cerrar",{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open(o.message,c.a,{duration:5e3})}else this.snackBar.open(c.n,c.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(o){return new(o||t)(s.Mb(u.f),s.Mb(d.a),s.Mb(l.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-add-grupo"]],decls:18,vars:2,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Grupo","formControlName","grupo","name","grupo","maxlength","100","required",""],["matInput","","type","number","placeholder","Orden","formControlName","orden","name","orden","maxlength","2","required",""],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(s.Sb(0,"div",0),s.Sb(1,"h3",1),s.Cc(2,"A\xf1adir grupo"),s.Rb(),s.Sb(3,"form",2),s.Sb(4,"div",3),s.Sb(5,"mat-form-field",4),s.Nb(6,"input",5),s.Rb(),s.Rb(),s.Sb(7,"div",3),s.Sb(8,"mat-form-field",4),s.Nb(9,"input",6),s.Rb(),s.Rb(),s.Sb(10,"div",3),s.Sb(11,"mat-form-field",4),s.Nb(12,"textarea",7),s.Rb(),s.Rb(),s.Sb(13,"div",8),s.Sb(14,"button",9),s.Zb("click",(function(){return o.confirmAdd()})),s.Cc(15,"Guardar"),s.Rb(),s.Sb(16,"button",10),s.Zb("click",(function(){return o.onNoClick()})),s.Cc(17,"Cancelar"),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(3),s.jc("formGroup",o.grupoForm),s.Bb(11),s.jc("disabled",!o.grupoForm.valid))},directives:[u.g,a.w,a.p,a.i,b.c,p.b,a.c,a.o,a.g,a.k,a.u,a.s,u.c,m.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),t})(),g=(()=>{class t{constructor(t,o,e,i){this.dialogRef=t,this.snackBar=o,this.servicioGrupos=e,this.grupo=i}ngOnInit(){this.grupoForm=new a.h({id_grupo_menu:new a.e(this.grupo.id_grupo_menu,a.v.required),grupo:new a.e(this.grupo.grupo,a.v.required),orden:new a.e(this.grupo.orden,a.v.required),observaciones:new a.e(this.grupo.observaciones)})}confirmAdd(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.grupoForm.valid){const t=this.grupoForm.value,o=yield this.servicioGrupos.editGrupo(t).toPromise();o.ok?(this.snackBar.open("Grupo editado con \xe9xito","Cerrar",{duration:5e3}),this.dialogRef.close({ok:o.ok,data:o.data})):this.snackBar.open("Ocurri\xf3 un fallo","Cerrar",{duration:5e3})}else this.snackBar.open("Ocurri\xf3 un fallo","Cerrar",{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return t.\u0275fac=function(o){return new(o||t)(s.Mb(u.f),s.Mb(d.a),s.Mb(l.a),s.Mb(u.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-edit-grupo"]],decls:18,vars:2,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","placeholder","Grupo","formControlName","grupo","name","grupo","maxlength","100","required",""],["matInput","","type","number","placeholder","Orden","formControlName","orden","name","orden","maxlength","2","required",""],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(s.Sb(0,"div",0),s.Sb(1,"h3",1),s.Cc(2,"Editar grupo"),s.Rb(),s.Sb(3,"form",2),s.Sb(4,"div",3),s.Sb(5,"mat-form-field",4),s.Nb(6,"input",5),s.Rb(),s.Rb(),s.Sb(7,"div",3),s.Sb(8,"mat-form-field",4),s.Nb(9,"input",6),s.Rb(),s.Rb(),s.Sb(10,"div",3),s.Sb(11,"mat-form-field",4),s.Nb(12,"textarea",7),s.Rb(),s.Rb(),s.Sb(13,"div",8),s.Sb(14,"button",9),s.Zb("click",(function(){return o.confirmAdd()})),s.Cc(15,"Guardar"),s.Rb(),s.Sb(16,"button",10),s.Zb("click",(function(){return o.onNoClick()})),s.Cc(17,"Cancelar"),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(3),s.jc("formGroup",o.grupoForm),s.Bb(11),s.jc("disabled",!o.grupoForm.valid))},directives:[u.g,a.w,a.p,a.i,b.c,p.b,a.c,a.o,a.g,a.k,a.u,a.s,u.c,m.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),t})(),h=(()=>{class t{constructor(t,o,e,i){this.dialogRef=t,this.grupo=o,this.servicioGrupos=e,this.snackBar=i}ngOnInit(){}onNoClick(){this.dialogRef.close({ok:!1})}confirmDelete(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.servicioGrupos.deleteGrupo(this.grupo.id_grupo_menu).toPromise();t.ok?(this.snackBar.open("Grupo eliminado con \xe9xito","Cerrar",{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open("Ocurri\xf3 un fallo","Cerrar",{duration:5e3})}))}}return t.\u0275fac=function(o){return new(o||t)(s.Mb(u.f),s.Mb(u.a),s.Mb(l.a),s.Mb(d.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-delete-grupo"]],decls:13,vars:2,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteGrupo",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(s.Sb(0,"div",0),s.Sb(1,"h3",1),s.Cc(2,"\xbfSeguro que deseas eliminar este grupo?"),s.Rb(),s.Sb(3,"div",2),s.Cc(4),s.Nb(5,"p"),s.Cc(6),s.Nb(7,"p"),s.Rb(),s.Sb(8,"div",3),s.Sb(9,"button",4),s.Zb("click",(function(){return o.confirmDelete()})),s.Cc(10,"Eliminar Grupo"),s.Rb(),s.Sb(11,"button",5),s.Zb("click",(function(){return o.onNoClick()})),s.Cc(12,"Cancelar"),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Bb(4),s.Ec(" Id: ",o.grupo.id_grupo_menu," "),s.Bb(2),s.Ec(" Grupo: ",o.grupo.grupo," "))},directives:[u.g,u.d,u.c,m.a],styles:["div.mat-dialog-actions[_ngcontent-%COMP%]{width:14em;margin:auto}"]}),t})();var v=e("M9IT"),S=e("Dh3D"),C=e("+0xr"),R=e("rDax"),k=e("NFeN");function w(t,o){if(1&t&&(s.Sb(0,"th",13),s.Nb(1,"input",14),s.Nb(2,"span",15),s.Rb()),2&t){const t=s.dc();s.Bb(1),s.jc("formControl",t.idFilter)}}function B(t,o){if(1&t&&(s.Sb(0,"td",16),s.Cc(1),s.Rb()),2&t){const t=o.$implicit;s.Bb(1),s.Ec(" ",t.id_grupo_menu," ")}}function G(t,o){if(1&t&&(s.Sb(0,"th",13),s.Nb(1,"input",17),s.Nb(2,"span",15),s.Rb()),2&t){const t=s.dc();s.Bb(1),s.jc("formControl",t.grupoFilter)}}function N(t,o){if(1&t&&(s.Sb(0,"td",16),s.Cc(1),s.Rb()),2&t){const t=o.$implicit;s.Bb(1),s.Ec(" ",t.grupo," ")}}function y(t,o){if(1&t&&(s.Sb(0,"th",13),s.Nb(1,"input",18),s.Nb(2,"span",15),s.Rb()),2&t){const t=s.dc();s.Bb(1),s.jc("formControl",t.ordenFilter)}}function O(t,o){if(1&t&&(s.Sb(0,"td",16),s.Cc(1),s.Rb()),2&t){const t=o.$implicit;s.Bb(1),s.Ec(" ",t.orden," ")}}function _(t,o){if(1&t){const t=s.Tb();s.Sb(0,"button",20),s.Zb("click",(function(){return s.tc(t),s.dc(2).addGrupo()})),s.Sb(1,"mat-icon"),s.Cc(2," add_circle "),s.Rb(),s.Rb()}}function j(t,o){if(1&t&&(s.Sb(0,"th",13),s.Bc(1,_,3,0,"button",19),s.Rb()),2&t){const t=s.dc();s.Bb(1),s.jc("ngIf",t.permises.add)}}function x(t,o){if(1&t){const t=s.Tb();s.Sb(0,"button",20),s.Zb("click",(function(){s.tc(t);const o=s.dc().$implicit;return s.dc().editGrupo(o)})),s.Sb(1,"mat-icon"),s.Cc(2," mode_edit "),s.Rb(),s.Rb()}}function I(t,o){if(1&t){const t=s.Tb();s.Sb(0,"button",20),s.Zb("click",(function(){s.tc(t);const o=s.dc().$implicit;return s.dc().deleteGrupo(o)})),s.Sb(1,"mat-icon"),s.Cc(2," delete "),s.Rb(),s.Rb()}}function F(t,o){if(1&t&&(s.Sb(0,"td",16),s.Bc(1,x,3,0,"button",19),s.Bc(2,I,3,0,"button",19),s.Rb()),2&t){const t=s.dc();s.Bb(1),s.jc("ngIf",t.permises.edit),s.Bb(1),s.jc("ngIf",t.permises.delete)}}function M(t,o){1&t&&s.Nb(0,"tr",21)}function P(t,o){1&t&&s.Nb(0,"tr",22)}const D=function(){return[5,10,25]},q=[{path:"",component:(()=>{class t{constructor(t,o,e){this.dialog=t,this.gruposService=o,this.overlay=e,this.dataSource=new C.k,this.idFilter=new a.e,this.grupoFilter=new a.e,this.ordenFilter=new a.e,this.filterValues={id_grupo_menu:"",grupo:"",orden:""}}ngOnInit(){this.getGrupos()}getGrupos(){return Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.gruposService.getAllGrupos().toPromise();this.permises=t.permises,t.ok&&(this.gruposService.grupos=t.data,this.displayedColumns=["id_grupo_menu","grupo","orden","actions"],this.dataSource.data=this.gruposService.grupos,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addGrupo(){return Object(n.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(f,{scrollStrategy:this.overlay.scrollStrategies.noop()}),o=yield t.afterClosed().toPromise();o&&o.ok&&this.ngOnInit()}))}editGrupo(t){return Object(n.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(g,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),e=yield o.afterClosed().toPromise();e&&e.ok&&this.ngOnInit()}))}deleteGrupo(t){return Object(n.a)(this,void 0,void 0,(function*(){const o=this.dialog.open(h,{data:t,scrollStrategy:this.overlay.scrollStrategies.noop()}),e=yield o.afterClosed().toPromise();e&&e.ok&&this.ngOnInit()}))}createFilter(){return(t,o)=>{const e=JSON.parse(o);return-1!==t.id_grupo_menu.toString().indexOf(e.id_grupo_menu)&&-1!==t.grupo.toLowerCase().indexOf(e.grupo.toLowerCase())}}onChanges(){this.idFilter.valueChanges.subscribe(t=>{this.filterValues.id_grupo_menu=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.grupoFilter.valueChanges.subscribe(t=>{this.filterValues.grupo=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.ordenFilter.valueChanges.subscribe(t=>{this.filterValues.orden=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}}return t.\u0275fac=function(o){return new(o||t)(s.Mb(u.b),s.Mb(l.a),s.Mb(R.c))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-grupos"]],viewQuery:function(t,o){var e;1&t&&(s.xc(v.a,!0),s.xc(S.a,!0)),2&t&&(s.pc(e=s.ac())&&(o.paginator=e.first),s.pc(e=s.ac())&&(o.sort=e.first))},decls:19,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_grupo_menu"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","grupo"],["matColumnDef","orden"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","ID",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Grupo",3,"formControl"],["matInput","","placeholder","Orden",3,"formControl"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div",1),s.Sb(2,"table",2),s.Qb(3,3),s.Bc(4,w,3,1,"th",4),s.Bc(5,B,2,1,"td",5),s.Pb(),s.Qb(6,6),s.Bc(7,G,3,1,"th",4),s.Bc(8,N,2,1,"td",5),s.Pb(),s.Qb(9,7),s.Bc(10,y,3,1,"th",4),s.Bc(11,O,2,1,"td",5),s.Pb(),s.Qb(12,8),s.Bc(13,j,2,1,"th",4),s.Bc(14,F,3,2,"td",5),s.Pb(),s.Bc(15,M,1,0,"tr",9),s.Bc(16,P,1,0,"tr",10),s.Rb(),s.Rb(),s.Nb(17,"mat-paginator",11,12),s.Rb()),2&t&&(s.Bb(2),s.jc("dataSource",o.dataSource),s.Bb(13),s.jc("matHeaderRowDef",o.displayedColumns),s.Bb(1),s.jc("matRowDefColumns",o.displayedColumns),s.Bb(1),s.jc("pageSize",10)("pageSizeOptions",s.mc(5,D)))},directives:[C.j,S.a,C.c,C.e,C.b,C.g,C.i,v.a,C.d,p.b,a.c,a.o,a.f,S.b,C.a,i.l,m.a,k.a,C.f,C.h],styles:[""]}),t})()}];let Z=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(o){return new(o||t)},imports:[[r.f.forChild(q)],r.f]}),t})();var J=e("ah4G");let V=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(o){return new(o||t)},imports:[[i.c,Z,J.a]]}),t})()}}]);