(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{ndpJ:function(i,t,a){"use strict";a.r(t),a.d(t,"FamiliasModule",(function(){return _}));var e=a("ofXK"),o=a("tyNb"),n=a("mrSG"),c=a("M9IT"),r=a("+0xr"),l=a("Dh3D"),s=a("3Pt+"),m=a("Xksa"),d=a("fXoL"),b=a("0IaG"),f=a("dNgK"),u=a("y0zT"),h=a("kmnG"),p=a("qFsG"),g=a("bTqV");let v=(()=>{class i{constructor(i,t,a){this.dialogRef=i,this.snackBar=t,this.servicioFamilias=a}ngOnInit(){this.familiaForm=new s.h({familia:new s.e(null,s.v.required),observaciones:new s.e(null)}),this.ENTIDAD=m.f}confirmAdd(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.familiaForm.valid){const i=this.familiaForm.value,t=yield this.servicioFamilias.addFamilia(i).toPromise();t.ok?(this.snackBar.open(t.message,m.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(t.message,m.a,{duration:5e3})}else this.snackBar.open(m.n,m.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(b.f),d.Mb(f.a),d.Mb(u.a))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-add-familia"]],decls:15,vars:4,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","formControlName","familia","name","familia","maxlength","100","required","",3,"placeholder"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(i,t){1&i&&(d.Sb(0,"div",0),d.Sb(1,"h3",1),d.Cc(2),d.Rb(),d.Sb(3,"form",2),d.Sb(4,"div",3),d.Sb(5,"mat-form-field",4),d.Nb(6,"input",5),d.Rb(),d.Rb(),d.Sb(7,"div",3),d.Sb(8,"mat-form-field",4),d.Nb(9,"textarea",6),d.Rb(),d.Rb(),d.Sb(10,"div",7),d.Sb(11,"button",8),d.Zb("click",(function(){return t.confirmAdd()})),d.Cc(12,"Guardar"),d.Rb(),d.Sb(13,"button",9),d.Zb("click",(function(){return t.onNoClick()})),d.Cc(14,"Cancelar"),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&i&&(d.Bb(2),d.Ec("A\xf1adir ",t.ENTIDAD,""),d.Bb(1),d.jc("formGroup",t.familiaForm),d.Bb(3),d.kc("placeholder",t.ENTIDAD),d.Bb(5),d.jc("disabled",!t.familiaForm.valid))},directives:[b.g,s.w,s.p,s.i,h.c,p.b,s.c,s.o,s.g,s.k,s.u,b.c,g.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),i})(),S=(()=>{class i{constructor(i,t,a,e){this.dialogRef=i,this.snackBar=t,this.servicioFamilias=a,this.familia=e}ngOnInit(){this.ENTIDAD=m.f,this.familiaForm=new s.h({id_familia:new s.e(this.familia.id_familia,s.v.required),familia:new s.e(this.familia.familia,s.v.required),observaciones:new s.e(this.familia.observaciones)})}confirmEdit(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.familiaForm.valid){const i=this.familiaForm.value,t=yield this.servicioFamilias.editFamilia(i).toPromise();t.ok?(this.snackBar.open(t.message,m.a,{duration:5e3}),this.dialogRef.close({ok:t.ok,data:t.data})):this.snackBar.open(m.m,m.a,{duration:5e3})}else this.snackBar.open(m.m,m.a,{duration:5e3})}))}onNoClick(){this.dialogRef.close({ok:!1})}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(b.f),d.Mb(f.a),d.Mb(u.a),d.Mb(b.a))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-edit-familia"]],decls:15,vars:4,consts:[[1,"container"],["mat-dialog-title",""],[1,"mat-dialog-content",3,"formGroup"],[1,"form"],["color","accent"],["matInput","","formControlName","familia","name","familia","maxlength","100","required","",3,"placeholder"],["matInput","","placeholder","Observaciones","formControlName","observaciones","name","Observaciones"],["mat-dialog-actions",""],["mat-button","","id","onSubmit","type","submit",3,"disabled","click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(i,t){1&i&&(d.Sb(0,"div",0),d.Sb(1,"h3",1),d.Cc(2),d.Rb(),d.Sb(3,"form",2),d.Sb(4,"div",3),d.Sb(5,"mat-form-field",4),d.Nb(6,"input",5),d.Rb(),d.Rb(),d.Sb(7,"div",3),d.Sb(8,"mat-form-field",4),d.Nb(9,"textarea",6),d.Rb(),d.Rb(),d.Sb(10,"div",7),d.Sb(11,"button",8),d.Zb("click",(function(){return t.confirmEdit()})),d.Cc(12,"Guardar"),d.Rb(),d.Sb(13,"button",9),d.Zb("click",(function(){return t.onNoClick()})),d.Cc(14,"Cancelar"),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&i&&(d.Bb(2),d.Ec("Editar ",t.ENTIDAD,""),d.Bb(1),d.jc("formGroup",t.familiaForm),d.Bb(3),d.kc("placeholder",t.ENTIDAD),d.Bb(5),d.jc("disabled",!t.familiaForm.valid))},directives:[b.g,s.w,s.p,s.i,h.c,p.b,s.c,s.o,s.g,s.k,s.u,b.c,g.a],styles:[".mat-dialog-content[_ngcontent-%COMP%]{overflow:hidden;width:18em}.container[_ngcontent-%COMP%]{margin:0 auto;width:18em;text-align:center;padding-top:10px}div.mat-dialog-actions[_ngcontent-%COMP%]{width:12em;margin:auto}"]}),i})(),C=(()=>{class i{constructor(i,t,a,e){this.dialogRef=i,this.familia=t,this.servicioFamilia=a,this.snackBar=e}ngOnInit(){this.ENTIDAD=m.f}onNoClick(){this.dialogRef.close({ok:!1})}confirmDelete(){return Object(n.a)(this,void 0,void 0,(function*(){const i=yield this.servicioFamilia.deleteFamilia(this.familia.id_familia).toPromise();i.ok?(this.snackBar.open(i.message,m.a,{duration:5e3}),this.dialogRef.close({ok:i.ok,data:i.data})):this.snackBar.open(i.message,m.a,{duration:5e3})}))}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(b.f),d.Mb(b.a),d.Mb(u.a),d.Mb(f.a))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-delete-familia"]],decls:13,vars:5,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","id","deleteFamilia",3,"click"],["mat-button","","id","onNoClick","tabindex","-1",3,"click"]],template:function(i,t){1&i&&(d.Sb(0,"div",0),d.Sb(1,"h3",1),d.Cc(2),d.Rb(),d.Sb(3,"div",2),d.Cc(4),d.Nb(5,"p"),d.Cc(6),d.Nb(7,"p"),d.Rb(),d.Sb(8,"div",3),d.Sb(9,"button",4),d.Zb("click",(function(){return t.confirmDelete()})),d.Cc(10),d.Rb(),d.Sb(11,"button",5),d.Zb("click",(function(){return t.onNoClick()})),d.Cc(12,"Cancelar"),d.Rb(),d.Rb(),d.Rb()),2&i&&(d.Bb(2),d.Ec("\xbfSeguro que deseas eliminar este ",t.ENTIDAD,"?"),d.Bb(2),d.Ec(" Id: ",t.familia.id_familia," "),d.Bb(2),d.Fc(" ",t.ENTIDAD,": ",t.familia.familia," "),d.Bb(4),d.Ec("Eliminar ",t.ENTIDAD,""))},directives:[b.g,b.d,b.c,g.a],styles:[""]}),i})();var k=a("rDax"),R=a("NFeN");function F(i,t){if(1&i&&(d.Sb(0,"th",12),d.Nb(1,"input",13),d.Nb(2,"span",14),d.Rb()),2&i){const i=d.dc();d.Bb(1),d.jc("formControl",i.idFamiliaFilter)}}function w(i,t){if(1&i&&(d.Sb(0,"td",15),d.Cc(1),d.Rb()),2&i){const i=t.$implicit;d.Bb(1),d.Ec(" ",i.id_familia," ")}}function N(i,t){if(1&i&&(d.Sb(0,"th",12),d.Nb(1,"input",16),d.Nb(2,"span",14),d.Rb()),2&i){const i=d.dc();d.Bb(1),d.jc("formControl",i.familiaFilter)}}function B(i,t){if(1&i&&(d.Sb(0,"td",15),d.Cc(1),d.Rb()),2&i){const i=t.$implicit;d.Bb(1),d.Ec(" ",i.familia," ")}}function y(i,t){if(1&i){const i=d.Tb();d.Sb(0,"th",12),d.Sb(1,"button",17),d.Zb("click",(function(){return d.tc(i),d.dc().addFamilia()})),d.Sb(2,"mat-icon"),d.Cc(3," add_circle "),d.Rb(),d.Rb(),d.Rb()}}function D(i,t){if(1&i){const i=d.Tb();d.Sb(0,"td",15),d.Sb(1,"button",17),d.Zb("click",(function(){d.tc(i);const a=t.$implicit;return d.dc().editFamilia(a)})),d.Sb(2,"mat-icon"),d.Cc(3," mode_edit "),d.Rb(),d.Rb(),d.Sb(4,"button",17),d.Zb("click",(function(){d.tc(i);const a=t.$implicit;return d.dc().deleteFamilia(a)})),d.Sb(5,"mat-icon"),d.Cc(6," delete "),d.Rb(),d.Rb(),d.Rb()}}function O(i,t){1&i&&d.Nb(0,"tr",18)}function I(i,t){1&i&&d.Nb(0,"tr",19)}const M=function(){return[5,10,25]},E=[{path:"",component:(()=>{class i{constructor(i,t,a){this.dialog=i,this.familiasService=t,this.overlay=a,this.dataSource=new r.k,this.idFamiliaFilter=new s.e,this.familiaFilter=new s.e,this.filterValues={id_familia:"",familia:""}}ngOnInit(){this.getFamilias()}getFamilias(){return Object(n.a)(this,void 0,void 0,(function*(){const i=yield this.familiasService.getAllFamilias().toPromise();this.permises=i.permises,i.ok&&(this.familiasService.familia=i.data,this.displayedColumns=["id_familia","familia","actions"],this.dataSource.data=this.familiasService.familia,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSource.filterPredicate=this.createFilter(),this.onChanges())}))}addFamilia(){return Object(n.a)(this,void 0,void 0,(function*(){const i=this.dialog.open(v,{scrollStrategy:this.overlay.scrollStrategies.noop()}),t=yield i.afterClosed().toPromise();t&&t.ok&&this.ngOnInit()}))}editFamilia(i){return Object(n.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(S,{data:i,scrollStrategy:this.overlay.scrollStrategies.noop()}),a=yield t.afterClosed().toPromise();a&&a.ok&&this.ngOnInit()}))}deleteFamilia(i){return Object(n.a)(this,void 0,void 0,(function*(){const t=this.dialog.open(C,{data:i,scrollStrategy:this.overlay.scrollStrategies.noop()}),a=yield t.afterClosed().toPromise();a&&a.ok&&this.ngOnInit()}))}createFilter(){return(i,t)=>{const a=JSON.parse(t);return-1!==i.id_familia.toString().indexOf(a.id_familia)&&-1!==i.familia.toLowerCase().indexOf(a.familia.toLowerCase())}}onChanges(){this.idFamiliaFilter.valueChanges.subscribe(i=>{this.filterValues.id_familia=i,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.familiaFilter.valueChanges.subscribe(i=>{this.filterValues.familia=i,this.dataSource.filter=JSON.stringify(this.filterValues)})}}return i.\u0275fac=function(t){return new(t||i)(d.Mb(b.b),d.Mb(u.a),d.Mb(k.c))},i.\u0275cmp=d.Gb({type:i,selectors:[["app-familias"]],viewQuery:function(i,t){var a;1&i&&(d.xc(c.a,!0),d.xc(l.a,!0)),2&i&&(d.pc(a=d.ac())&&(t.paginator=a.first),d.pc(a=d.ac())&&(t.sort=a.first))},decls:16,vars:6,consts:[[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id_familia"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","familia"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["matInput","","placeholder","Id",3,"formControl"],["mat-sort-header",""],["mat-cell",""],["matInput","","placeholder","Familia",3,"formControl"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,t){1&i&&(d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"table",2),d.Qb(3,3),d.Bc(4,F,3,1,"th",4),d.Bc(5,w,2,1,"td",5),d.Pb(),d.Qb(6,6),d.Bc(7,N,3,1,"th",4),d.Bc(8,B,2,1,"td",5),d.Pb(),d.Qb(9,7),d.Bc(10,y,4,0,"th",4),d.Bc(11,D,7,0,"td",5),d.Pb(),d.Bc(12,O,1,0,"tr",8),d.Bc(13,I,1,0,"tr",9),d.Rb(),d.Rb(),d.Nb(14,"mat-paginator",10,11),d.Rb()),2&i&&(d.Bb(2),d.jc("dataSource",t.dataSource),d.Bb(10),d.jc("matHeaderRowDef",t.displayedColumns),d.Bb(1),d.jc("matRowDefColumns",t.displayedColumns),d.Bb(1),d.jc("pageSize",10)("pageSizeOptions",d.mc(5,M)))},directives:[r.j,l.a,r.c,r.e,r.b,r.g,r.i,c.a,r.d,p.b,s.c,s.o,s.f,l.b,r.a,g.a,R.a,r.f,r.h],styles:[""]}),i})()}];let j=(()=>{class i{}return i.\u0275mod=d.Kb({type:i}),i.\u0275inj=d.Jb({factory:function(t){return new(t||i)},imports:[[o.f.forChild(E)],o.f]}),i})();var x=a("ah4G");let _=(()=>{class i{}return i.\u0275mod=d.Kb({type:i}),i.\u0275inj=d.Jb({factory:function(t){return new(t||i)},imports:[[e.c,j,x.a]]}),i})()}}]);